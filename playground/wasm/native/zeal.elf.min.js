var Module=(()=>{var Ke=typeof document<"u"?document.currentScript?.src:void 0;return async function(Je={}){var Qe,c=Je,kr=typeof window=="object",me=typeof WorkerGlobalScope<"u",_e=typeof process=="object"&&process.versions?.node&&process.type!="renderer",Cr=!kr&&!_e&&!me,Ze=[],er="./this.program",rr=(e,r)=>{throw r};typeof __filename<"u"?Ke=__filename:me&&(Ke=self.location.href);var Ie="";function Dt(e){return c.locateFile?c.locateFile(e,Ie):Ie+e}var Oe,Fe;if(_e){if(!(typeof process=="object"&&process.versions?.node&&process.type!="renderer"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var Tr=process.versions.node,Se=Tr.split(".").slice(0,3);if(Se=Se[0]*1e4+Se[1]*100+Se[2].split("-")[0]*1,Se<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+Tr+")");var tr=require("fs");Ie=__dirname+"/",Fe=r=>{r=ke(r)?new URL(r):r;var t=tr.readFileSync(r);return y(Buffer.isBuffer(t)),t},Oe=async(r,t=!0)=>{r=ke(r)?new URL(r):r;var n=tr.readFileSync(r,t?void 0:"utf8");return y(t?Buffer.isBuffer(n):typeof n=="string"),n},process.argv.length>1&&(er=process.argv[1].replace(/\\/g,"/")),Ze=process.argv.slice(2),rr=(r,t)=>{throw process.exitCode=r,t}}else if(Cr){if(typeof process=="object"&&process.versions?.node&&process.type!="renderer"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(kr||me){try{Ie=new URL(".",Ke).href}catch{}if(!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");me&&(Fe=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Oe=async e=>{if(ke(e))return new Promise((t,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){t(a.response);return}n(a.status)},a.onerror=n,a.send(null)});var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)}}else throw new Error("environment detection error");var ue=console.log.bind(console),P=console.error.bind(console),ss="IDBFS is no longer included by default; build with -lidbfs.js",ls="PROXYFS is no longer included by default; build with -lproxyfs.js",us="WORKERFS is no longer included by default; build with -lworkerfs.js",cs="FETCHFS is no longer included by default; build with -lfetchfs.js",ds="ICASEFS is no longer included by default; build with -licasefs.js",fs="JSFILEFS is no longer included by default; build with -ljsfilefs.js",vs="OPFS is no longer included by default; build with -lopfs.js",ms="NODEFS is no longer included by default; build with -lnodefs.js";y(!Cr,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var xe;typeof WebAssembly!="object"&&P("no native wasm support detected");var Z=!1,Be;function y(e,r){e||W("Assertion failed"+(r?": "+r:""))}var ke=e=>e.startsWith("file://");function At(){var e=yr();y((e&3)==0),e==0&&(e+=4),k[e>>2]=34821223,k[e+4>>2]=2310721022,k[0]=1668509029}function ce(){if(!Z){var e=yr();e==0&&(e+=4);var r=k[e>>2],t=k[e+4>>2];(r!=34821223||t!=2310721022)&&W(`Stack overflow! Stack cookie has been overwritten at ${fe(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${fe(t)} ${fe(r)}`),k[0]!=1668509029&&W("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Dr=!0;function _s(...e){!Dr&&typeof Dr<"u"||console.warn(...e)}(()=>{var e=new Int16Array(1),r=new Int8Array(e.buffer);if(e[0]=25459,r[0]!==115||r[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();function Ne(e){Object.getOwnPropertyDescriptor(c,e)||Object.defineProperty(c,e,{configurable:!0,set(){W(`Attempt to set \`Module.${e}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function D(e){return()=>y(!1,`call to '${e}' via reference taken before Wasm module initialization`)}function Lt(e){Object.getOwnPropertyDescriptor(c,e)&&W(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function Ar(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function gs(e,r){}function Lr(e,r){}Lr("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Lr("asm","Please use wasmExports instead");function Mt(e){Mr(e)}function Mr(e){Object.getOwnPropertyDescriptor(c,e)||Object.defineProperty(c,e,{configurable:!0,get(){var r=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;Ar(e)&&(r+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),W(r)}})}var Pr,nr,ar,A,K,ee,Rr,v,k,N,V,J,Pt,Ce=!1,Te=!1;function Rt(){var e=ar.buffer;A=new Int8Array(e),ee=new Int16Array(e),K=new Uint8Array(e),Rr=new Uint16Array(e),v=new Int32Array(e),k=new Uint32Array(e),c.HEAPF32=N=new Float32Array(e),V=new Float64Array(e),J=new BigInt64Array(e),Pt=new BigUint64Array(e)}y(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support");function It(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)$t(c.preRun.shift());Ne("preRun"),or(We)}function Ot(){y(!Ce),Ce=!0,ce(),!c.noFSInit&&!o.initialized&&o.init(),te.init(),le.__wasm_call_ctors(),o.ignorePermissions=!1}function Bt(){ce()}function Nt(){y(!Te),S.state=S.State.Disabled,ce(),gt(),or($r),o.quit(),te.shutdown(),Te=!0}function Ut(){if(ce(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)qt(c.postRun.shift());Ne("postRun"),or(Or)}var oe=0,De=null,ge={},de=null;function ir(e){oe++,c.monitorRunDependencies?.(oe),e?(y(!ge[e]),ge[e]=1,de===null&&typeof setInterval<"u"&&(de=setInterval(()=>{if(Z){clearInterval(de),de=null;return}var r=!1;for(var t in ge)r||(r=!0,P("still waiting on run dependencies:")),P(`dependency: ${t}`);r&&P("(end of list)")},1e4))):P("warning: run dependency added without ID")}function Ue(e){if(oe--,c.monitorRunDependencies?.(oe),e?(y(ge[e]),delete ge[e]):P("warning: run dependency removed without ID"),oe==0&&(de!==null&&(clearInterval(de),de=null),De)){var r=De;De=null,r()}}function W(e){c.onAbort?.(e),e="Aborted("+e+")",P(e),Z=!0,e.indexOf("RuntimeError: unreachable")>=0&&(e+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var r=new WebAssembly.RuntimeError(e);throw nr?.(r),r}function R(e,r){return(...t)=>{y(Ce,`native function \`${e}\` called before runtime initialization`),y(!Te,`native function \`${e}\` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)`);var n=le[e];return y(n,`exported native function \`${e}\` not found`),y(t.length<=r,`native function \`${e}\` called with ${t.length} args but expects ${r}`),n(...t)}}var Ae;function Wt(){return Dt("zeal.elf.wasm")}function Gt(e){if(e==Ae&&xe)return new Uint8Array(xe);if(Fe)return Fe(e);throw"both async and sync fetching of the wasm failed"}async function zt(e){if(!xe)try{var r=await Oe(e);return new Uint8Array(r)}catch{}return Gt(e)}async function Ht(e,r){try{var t=await zt(e),n=await WebAssembly.instantiate(t,r);return n}catch(a){P(`failed to asynchronously prepare wasm: ${a}`),ke(Ae)&&P(`warning: Loading from a file URI (${Ae}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),W(a)}}async function jt(e,r,t){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!ke(r)&&!_e)try{var n=fetch(r,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,t);return a}catch(i){P(`wasm streaming compile failed: ${i}`),P("falling back to ArrayBuffer instantiation")}return Ht(r,t)}function Yt(){return S.instrumentWasmImports(Fr),{env:Fr,wasi_snapshot_preview1:Fr}}async function Xt(){function e(s,u){return le=s.exports,le=S.instrumentWasmExports(le),ar=le.memory,y(ar,"memory not found in wasm exports"),Rt(),ts(le),Ue("wasm-instantiate"),le}ir("wasm-instantiate");var r=c;function t(s){return y(c===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),r=null,e(s.instance)}var n=Yt();if(c.instantiateWasm)return new Promise((s,u)=>{try{c.instantiateWasm(n,(d,g)=>{s(e(d,g))})}catch(d){P(`Module.instantiateWasm callback failed with error: ${d}`),u(d)}});Ae??=Wt();var a=await jt(xe,Ae,n),i=t(a);return i}class Ir{name="ExitStatus";constructor(r){this.message=`Program terminated with exit(${r})`,this.status=r}}var or=e=>{for(;e.length>0;)e.shift()(c)},Or=[],qt=e=>Or.push(e),We=[],$t=e=>We.push(e),Y={},Vt=(e,r,t)=>{e=e.replace(/p/g,"i"),y(e in Y,`bad function pointer type - sig is not in dynCalls: '${e}'`),t?.length?y(t.length===e.length-1):y(e.length==1);var n=Y[e];return n(r,...t)},hs=(e,r,t=[],n=!1)=>{y(!n,"async dynCall is not supported in this mode");var a=Vt(e,r,t);function i(s){return s}return a};function Kt(e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return A[e];case"i8":return A[e];case"i16":return ee[e>>1];case"i32":return v[e>>2];case"i64":return J[e>>3];case"float":return N[e>>2];case"double":return V[e>>3];case"*":return k[e>>2];default:W(`invalid type for getValue: ${r}`)}}var Br=!1,fe=e=>(y(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0"));function Jt(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":A[e]=r;break;case"i8":A[e]=r;break;case"i16":ee[e>>1]=r;break;case"i32":v[e>>2]=r;break;case"i64":J[e>>3]=BigInt(r);break;case"float":N[e>>2]=r;break;case"double":V[e>>3]=r;break;case"*":k[e>>2]=r;break;default:W(`invalid type for setValue: ${t}`)}}var ws=e=>wt(e),ps=()=>Er(),re=e=>{re.shown||={},re.shown[e]||(re.shown[e]=1,_e&&(e="warning: "+e),P(e))},Nr=typeof TextDecoder<"u"?new TextDecoder:void 0,Qt=(e,r,t,n)=>{var a=r+t;if(n)return a;for(;e[r]&&!(r>=a);)++r;return r},he=(e,r=0,t,n)=>{var a=Qt(e,r,t,n);if(a-r>16&&e.buffer&&Nr)return Nr.decode(e.subarray(r,a));for(var i="";r<a;){var s=e[r++];if(!(s&128)){i+=String.fromCharCode(s);continue}var u=e[r++]&63;if((s&224)==192){i+=String.fromCharCode((s&31)<<6|u);continue}var d=e[r++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|d:((s&248)!=240&&re("Invalid UTF-8 leading byte "+fe(s)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),s=(s&7)<<18|u<<12|d<<6|e[r++]&63),s<65536)i+=String.fromCharCode(s);else{var g=s-65536;i+=String.fromCharCode(55296|g>>10,56320|g&1023)}}return i},q=(e,r,t)=>(y(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?he(K,e,r,t):""),Zt=(e,r,t,n)=>W(`Assertion failed: ${q(e)}, at: `+[r?q(r):"unknown filename",t,n?q(n):"unknown function"]),O={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=O.isAbs(e),t=e.slice(-1)==="/";return e=O.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=O.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.slice(0,-1)),t+n)},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>O.normalize(e.join("/")),join2:(e,r)=>O.normalize(e+"/"+r)},en=()=>{if(_e){var e=require("crypto");return r=>e.randomFillSync(r)}return r=>crypto.getRandomValues(r)},Ur=e=>{(Ur=en())(e)},we={resolve:(...e)=>{for(var r="",t=!1,n=e.length-1;n>=-1&&!t;n--){var a=n>=0?e[n]:o.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";r=a+"/"+r,t=O.isAbs(a)}return r=O.normalizeArray(r.split("/").filter(i=>!!i),!t).join("/"),(t?"/":"")+r||"."},relative:(e,r)=>{e=we.resolve(e).slice(1),r=we.resolve(r).slice(1);function t(g){for(var w=0;w<g.length&&g[w]==="";w++);for(var p=g.length-1;p>=0&&g[p]==="";p--);return w>p?[]:g.slice(w,p-w+1)}for(var n=t(e.split("/")),a=t(r.split("/")),i=Math.min(n.length,a.length),s=i,u=0;u<i;u++)if(n[u]!==a[u]){s=u;break}for(var d=[],u=s;u<n.length;u++)d.push("..");return d=d.concat(a.slice(s)),d.join("/")}},sr=[],se=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Wr=(e,r,t,n)=>{if(y(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(n>0))return 0;for(var a=t,i=t+n-1,s=0;s<e.length;++s){var u=e.codePointAt(s);if(u<=127){if(t>=i)break;r[t++]=u}else if(u<=2047){if(t+1>=i)break;r[t++]=192|u>>6,r[t++]=128|u&63}else if(u<=65535){if(t+2>=i)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|u&63}else{if(t+3>=i)break;u>1114111&&re("Invalid Unicode code point "+fe(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|u&63,s++}}return r[t]=0,t-a},lr=(e,r,t)=>{var n=t>0?t:se(e)+1,a=new Array(n),i=Wr(e,a,0,a.length);return r&&(a.length=i),a},rn=()=>{if(!sr.length){var e=null;if(_e){var r=256,t=Buffer.alloc(r),n=0,a=process.stdin.fd;try{n=tr.readSync(a,t,0,r)}catch(i){if(i.toString().includes("EOF"))n=0;else throw i}n>0&&(e=t.slice(0,n).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;sr=lr(e,!0)}return sr.shift()},te={ttys:[],init(){},shutdown(){},register(e,r){te.ttys[e]={input:[],output:[],ops:r},o.registerDevice(e,te.stream_ops)},stream_ops:{open(e){var r=te.ttys[e.node.rdev];if(!r)throw new o.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new o.ErrnoError(60);for(var i=0,s=0;s<n;s++){var u;try{u=e.tty.ops.get_char(e.tty)}catch{throw new o.ErrnoError(29)}if(u===void 0&&i===0)throw new o.ErrnoError(6);if(u==null)break;i++,r[t+s]=u}return i&&(e.node.atime=Date.now()),i},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new o.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,r[t+i])}catch{throw new o.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char(e){return rn()},put_char(e,r){r===null||r===10?(ue(he(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output?.length>0&&(ue(he(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(P(he(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output?.length>0&&(P(he(e.output)),e.output=[])}}},Gr=e=>{W("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},L={ops_table:null,mount(e){return L.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(o.isBlkdev(t)||o.isFIFO(t))throw new o.ErrnoError(63);L.ops_table||={dir:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr,lookup:L.node_ops.lookup,mknod:L.node_ops.mknod,rename:L.node_ops.rename,unlink:L.node_ops.unlink,rmdir:L.node_ops.rmdir,readdir:L.node_ops.readdir,symlink:L.node_ops.symlink},stream:{llseek:L.stream_ops.llseek}},file:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr},stream:{llseek:L.stream_ops.llseek,read:L.stream_ops.read,write:L.stream_ops.write,mmap:L.stream_ops.mmap,msync:L.stream_ops.msync}},link:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr,readlink:L.node_ops.readlink},stream:{}},chrdev:{node:{getattr:L.node_ops.getattr,setattr:L.node_ops.setattr},stream:o.chrdev_stream_ops}};var a=o.createNode(e,r,t,n);return o.isDir(a.mode)?(a.node_ops=L.ops_table.dir.node,a.stream_ops=L.ops_table.dir.stream,a.contents={}):o.isFile(a.mode)?(a.node_ops=L.ops_table.file.node,a.stream_ops=L.ops_table.file.stream,a.usedBytes=0,a.contents=null):o.isLink(a.mode)?(a.node_ops=L.ops_table.link.node,a.stream_ops=L.ops_table.link.stream):o.isChrdev(a.mode)&&(a.node_ops=L.ops_table.chrdev.node,a.stream_ops=L.ops_table.chrdev.stream),a.atime=a.mtime=a.ctime=Date.now(),e&&(e.contents[r]=a,e.atime=e.mtime=e.ctime=a.atime),a},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var a=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=o.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,o.isDir(e.mode)?r.size=4096:o.isFile(e.mode)?r.size=e.usedBytes:o.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.atime),r.mtime=new Date(e.mtime),r.ctime=new Date(e.ctime),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){for(const t of["mode","atime","mtime","ctime"])r[t]!=null&&(e[t]=r[t]);r.size!==void 0&&L.resizeFileStorage(e,r.size)},lookup(e,r){throw new o.ErrnoError(44)},mknod(e,r,t,n){return L.createNode(e,r,t,n)},rename(e,r,t){var n;try{n=o.lookupNode(r,t)}catch{}if(n){if(o.isDir(e.mode))for(var a in n.contents)throw new o.ErrnoError(55);o.hashRemoveNode(n)}delete e.parent.contents[e.name],r.contents[t]=e,e.name=t,r.ctime=r.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,r){delete e.contents[r],e.ctime=e.mtime=Date.now()},rmdir(e,r){var t=o.lookupNode(e,r);for(var n in t.contents)throw new o.ErrnoError(55);delete e.contents[r],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,r,t){var n=L.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!o.isLink(e.mode))throw new o.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var i=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,n);if(y(s>=0),s>8&&i.subarray)r.set(i.subarray(a,a+s),t);else for(var u=0;u<s;u++)r[t+u]=i[a+u];return s},write(e,r,t,n,a,i){if(y(!(r instanceof ArrayBuffer)),!n)return 0;var s=e.node;if(s.mtime=s.ctime=Date.now(),r.subarray&&(!s.contents||s.contents.subarray)){if(i)return y(a===0,"canOwn must imply no weird position inside the file"),s.contents=r.subarray(t,t+n),s.usedBytes=n,n;if(s.usedBytes===0&&a===0)return s.contents=r.slice(t,t+n),s.usedBytes=n,n;if(a+n<=s.usedBytes)return s.contents.set(r.subarray(t,t+n),a),n}if(L.expandFileStorage(s,a+n),s.contents.subarray&&r.subarray)s.contents.set(r.subarray(t,t+n),a);else for(var u=0;u<n;u++)s.contents[a+u]=r[t+u];return s.usedBytes=Math.max(s.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&o.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new o.ErrnoError(28);return n},mmap(e,r,t,n,a){if(!o.isFile(e.node.mode))throw new o.ErrnoError(43);var i,s,u=e.node.contents;if(!(a&2)&&u&&u.buffer===A.buffer)s=!1,i=u.byteOffset;else{if(s=!0,i=Gr(r),!i)throw new o.ErrnoError(48);u&&((t>0||t+r<u.length)&&(u.subarray?u=u.subarray(t,t+r):u=Array.prototype.slice.call(u,t,t+r)),A.set(u,i))}return{ptr:i,allocated:s}},msync(e,r,t,n,a){return L.stream_ops.write(e,r,0,n,t,!1),0}}},tn=async e=>{var r=await Oe(e);return y(r,`Loading data file "${e}" failed (no arrayBuffer).`),new Uint8Array(r)},zr=(...e)=>o.createDataFile(...e),nn=e=>{for(var r=e;;){if(!ge[e])return e;e=r+Math.random()}},Ge=[],an=(e,r,t,n)=>{typeof f<"u"&&f.init();var a=!1;return Ge.forEach(i=>{a||i.canHandle(r)&&(i.handle(e,r,t,n),a=!0)}),a},Hr=(e,r,t,n,a,i,s,u,d,g)=>{var w=r?we.resolve(O.join2(e,r)):e,p=nn(`cp ${w}`);function h(b){function x(M){g?.(),u||zr(e,r,M,n,a,d),i?.(),Ue(p)}an(b,w,x,()=>{s?.(),Ue(p)})||x(b)}ir(p),typeof t=="string"?tn(t).then(h,s):h(t)},on=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},ur=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},sn=e=>q(ct(e)),jr={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},o={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class extends Error{name="ErrnoError";constructor(e){super(Ce?sn(e):""),this.errno=e;for(var r in jr)if(jr[r]===e){this.code=r;break}}},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.id=o.nextInode++,this.name=r,this.mode=t,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return o.isDir(this.mode)}get isDevice(){return o.isChrdev(this.mode)}},lookupPath(e,r={}){if(!e)throw new o.ErrnoError(44);r.follow_mount??=!0,O.isAbs(e)||(e=o.cwd()+"/"+e);e:for(var t=0;t<40;t++){for(var n=e.split("/").filter(g=>!!g),a=o.root,i="/",s=0;s<n.length;s++){var u=s===n.length-1;if(u&&r.parent)break;if(n[s]!=="."){if(n[s]===".."){if(i=O.dirname(i),o.isRoot(a)){e=i+"/"+n.slice(s+1).join("/"),t--;continue e}else a=a.parent;continue}i=O.join2(i,n[s]);try{a=o.lookupNode(a,n[s])}catch(g){if(g?.errno===44&&u&&r.noent_okay)return{path:i};throw g}if(o.isMountpoint(a)&&(!u||r.follow_mount)&&(a=a.mounted.root),o.isLink(a.mode)&&(!u||r.follow)){if(!a.node_ops.readlink)throw new o.ErrnoError(52);var d=a.node_ops.readlink(a);O.isAbs(d)||(d=O.dirname(i)+"/"+d),e=d+"/"+n.slice(s+1).join("/");continue e}}}return{path:i,node:a}}throw new o.ErrnoError(32)},getPath(e){for(var r;;){if(o.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%o.nameTable.length},hashAddNode(e){var r=o.hashName(e.parent.id,e.name);e.name_next=o.nameTable[r],o.nameTable[r]=e},hashRemoveNode(e){var r=o.hashName(e.parent.id,e.name);if(o.nameTable[r]===e)o.nameTable[r]=e.name_next;else for(var t=o.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=o.mayLookup(e);if(t)throw new o.ErrnoError(t);for(var n=o.hashName(e.id,r),a=o.nameTable[n];a;a=a.name_next){var i=a.name;if(a.parent.id===e.id&&i===r)return a}return o.lookup(e,r)},createNode(e,r,t,n){y(typeof e=="object");var a=new o.FSNode(e,r,t,n);return o.hashAddNode(a),a},destroyNode(e){o.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return o.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!o.isDir(e.mode))return 54;var r=o.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){if(!o.isDir(e.mode))return 54;try{var t=o.lookupNode(e,r);return 20}catch{}return o.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=o.lookupNode(e,r)}catch(i){return i.errno}var a=o.nodePermissions(e,"wx");if(a)return a;if(t){if(!o.isDir(n.mode))return 54;if(o.isRoot(n)||o.getPath(n)===o.cwd())return 10}else if(o.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?o.isLink(e.mode)?32:o.isDir(e.mode)&&(o.flagsToPermissionString(r)!=="r"||r&576)?31:o.nodePermissions(e,o.flagsToPermissionString(r)):44},checkOpExists(e,r){if(!e)throw new o.ErrnoError(r);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=o.MAX_OPEN_FDS;e++)if(!o.streams[e])return e;throw new o.ErrnoError(33)},getStreamChecked(e){var r=o.getStream(e);if(!r)throw new o.ErrnoError(8);return r},getStream:e=>o.streams[e],createStream(e,r=-1){return y(r>=-1),e=Object.assign(new o.FSStream,e),r==-1&&(r=o.nextfd()),e.fd=r,o.streams[r]=e,e},closeStream(e){o.streams[e]=null},dupStream(e,r=-1){var t=o.createStream(e,r);return t.stream_ops?.dup?.(t),t},doSetAttr(e,r,t){var n=e?.stream_ops.setattr,a=n?e:r;n??=r.node_ops.setattr,o.checkOpExists(n,63),n(a,t)},chrdev_stream_ops:{open(e){var r=o.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new o.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){o.devices[e]={stream_ops:r}},getDevice:e=>o.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push(...n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),o.syncFSRequests++,o.syncFSRequests>1&&P(`warning: ${o.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=o.getMounts(o.root.mount),n=0;function a(s){return y(o.syncFSRequests>0),o.syncFSRequests--,r(s)}function i(s){if(s)return i.errored?void 0:(i.errored=!0,a(s));++n>=t.length&&a(null)}t.forEach(s=>{if(!s.type.syncfs)return i(null);s.type.syncfs(s,e,i)})},mount(e,r,t){if(typeof e=="string")throw e;var n=t==="/",a=!t,i;if(n&&o.root)throw new o.ErrnoError(10);if(!n&&!a){var s=o.lookupPath(t,{follow_mount:!1});if(t=s.path,i=s.node,o.isMountpoint(i))throw new o.ErrnoError(10);if(!o.isDir(i.mode))throw new o.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},d=e.mount(u);return d.mount=u,u.root=d,n?o.root=d:i&&(i.mounted=u,i.mount&&i.mount.mounts.push(u)),d},unmount(e){var r=o.lookupPath(e,{follow_mount:!1});if(!o.isMountpoint(r.node))throw new o.ErrnoError(28);var t=r.node,n=t.mounted,a=o.getMounts(n);Object.keys(o.nameTable).forEach(s=>{for(var u=o.nameTable[s];u;){var d=u.name_next;a.includes(u.mount)&&o.destroyNode(u),u=d}}),t.mounted=null;var i=t.mount.mounts.indexOf(n);y(i!==-1),t.mount.mounts.splice(i,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=o.lookupPath(e,{parent:!0}),a=n.node,i=O.basename(e);if(!i)throw new o.ErrnoError(28);if(i==="."||i==="..")throw new o.ErrnoError(20);var s=o.mayCreate(a,i);if(s)throw new o.ErrnoError(s);if(!a.node_ops.mknod)throw new o.ErrnoError(63);return a.node_ops.mknod(a,i,r,t)},statfs(e){return o.statfsNode(o.lookupPath(e,{follow:!0}).node)},statfsStream(e){return o.statfsNode(e.node)},statfsNode(e){var r={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:o.nextInode,ffree:o.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(r,e.node_ops.statfs(e.mount.opts.root)),r},create(e,r=438){return r&=4095,r|=32768,o.mknod(e,r,0)},mkdir(e,r=511){return r&=1023,r|=16384,o.mknod(e,r,0)},mkdirTree(e,r){var t=e.split("/"),n="";for(var a of t)if(a){(n||O.isAbs(e))&&(n+="/"),n+=a;try{o.mkdir(n,r)}catch(i){if(i.errno!=20)throw i}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,o.mknod(e,r,t)},symlink(e,r){if(!we.resolve(e))throw new o.ErrnoError(44);var t=o.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new o.ErrnoError(44);var a=O.basename(r),i=o.mayCreate(n,a);if(i)throw new o.ErrnoError(i);if(!n.node_ops.symlink)throw new o.ErrnoError(63);return n.node_ops.symlink(n,a,e)},rename(e,r){var t=O.dirname(e),n=O.dirname(r),a=O.basename(e),i=O.basename(r),s,u,d;if(s=o.lookupPath(e,{parent:!0}),u=s.node,s=o.lookupPath(r,{parent:!0}),d=s.node,!u||!d)throw new o.ErrnoError(44);if(u.mount!==d.mount)throw new o.ErrnoError(75);var g=o.lookupNode(u,a),w=we.relative(e,n);if(w.charAt(0)!==".")throw new o.ErrnoError(28);if(w=we.relative(r,t),w.charAt(0)!==".")throw new o.ErrnoError(55);var p;try{p=o.lookupNode(d,i)}catch{}if(g!==p){var h=o.isDir(g.mode),b=o.mayDelete(u,a,h);if(b)throw new o.ErrnoError(b);if(b=p?o.mayDelete(d,i,h):o.mayCreate(d,i),b)throw new o.ErrnoError(b);if(!u.node_ops.rename)throw new o.ErrnoError(63);if(o.isMountpoint(g)||p&&o.isMountpoint(p))throw new o.ErrnoError(10);if(d!==u&&(b=o.nodePermissions(u,"w"),b))throw new o.ErrnoError(b);o.hashRemoveNode(g);try{u.node_ops.rename(g,d,i),g.parent=d}catch(x){throw x}finally{o.hashAddNode(g)}}},rmdir(e){var r=o.lookupPath(e,{parent:!0}),t=r.node,n=O.basename(e),a=o.lookupNode(t,n),i=o.mayDelete(t,n,!0);if(i)throw new o.ErrnoError(i);if(!t.node_ops.rmdir)throw new o.ErrnoError(63);if(o.isMountpoint(a))throw new o.ErrnoError(10);t.node_ops.rmdir(t,n),o.destroyNode(a)},readdir(e){var r=o.lookupPath(e,{follow:!0}),t=r.node,n=o.checkOpExists(t.node_ops.readdir,54);return n(t)},unlink(e){var r=o.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new o.ErrnoError(44);var n=O.basename(e),a=o.lookupNode(t,n),i=o.mayDelete(t,n,!1);if(i)throw new o.ErrnoError(i);if(!t.node_ops.unlink)throw new o.ErrnoError(63);if(o.isMountpoint(a))throw new o.ErrnoError(10);t.node_ops.unlink(t,n),o.destroyNode(a)},readlink(e){var r=o.lookupPath(e),t=r.node;if(!t)throw new o.ErrnoError(44);if(!t.node_ops.readlink)throw new o.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,r){var t=o.lookupPath(e,{follow:!r}),n=t.node,a=o.checkOpExists(n.node_ops.getattr,63);return a(n)},fstat(e){var r=o.getStreamChecked(e),t=r.node,n=r.stream_ops.getattr,a=n?r:t;return n??=t.node_ops.getattr,o.checkOpExists(n,63),n(a)},lstat(e){return o.stat(e,!0)},doChmod(e,r,t,n){o.doSetAttr(e,r,{mode:t&4095|r.mode&-4096,ctime:Date.now(),dontFollow:n})},chmod(e,r,t){var n;if(typeof e=="string"){var a=o.lookupPath(e,{follow:!t});n=a.node}else n=e;o.doChmod(null,n,r,t)},lchmod(e,r){o.chmod(e,r,!0)},fchmod(e,r){var t=o.getStreamChecked(e);o.doChmod(t,t.node,r,!1)},doChown(e,r,t){o.doSetAttr(e,r,{timestamp:Date.now(),dontFollow:t})},chown(e,r,t,n){var a;if(typeof e=="string"){var i=o.lookupPath(e,{follow:!n});a=i.node}else a=e;o.doChown(null,a,n)},lchown(e,r,t){o.chown(e,r,t,!0)},fchown(e,r,t){var n=o.getStreamChecked(e);o.doChown(n,n.node,!1)},doTruncate(e,r,t){if(o.isDir(r.mode))throw new o.ErrnoError(31);if(!o.isFile(r.mode))throw new o.ErrnoError(28);var n=o.nodePermissions(r,"w");if(n)throw new o.ErrnoError(n);o.doSetAttr(e,r,{size:t,timestamp:Date.now()})},truncate(e,r){if(r<0)throw new o.ErrnoError(28);var t;if(typeof e=="string"){var n=o.lookupPath(e,{follow:!0});t=n.node}else t=e;o.doTruncate(null,t,r)},ftruncate(e,r){var t=o.getStreamChecked(e);if(r<0||(t.flags&2097155)===0)throw new o.ErrnoError(28);o.doTruncate(t,t.node,r)},utime(e,r,t){var n=o.lookupPath(e,{follow:!0}),a=n.node,i=o.checkOpExists(a.node_ops.setattr,63);i(a,{atime:r,mtime:t})},open(e,r,t=438){if(e==="")throw new o.ErrnoError(44);r=typeof r=="string"?on(r):r,r&64?t=t&4095|32768:t=0;var n,a;if(typeof e=="object")n=e;else{a=e.endsWith("/");var i=o.lookupPath(e,{follow:!(r&131072),noent_okay:!0});n=i.node,e=i.path}var s=!1;if(r&64)if(n){if(r&128)throw new o.ErrnoError(20)}else{if(a)throw new o.ErrnoError(31);n=o.mknod(e,t|511,0),s=!0}if(!n)throw new o.ErrnoError(44);if(o.isChrdev(n.mode)&&(r&=-513),r&65536&&!o.isDir(n.mode))throw new o.ErrnoError(54);if(!s){var u=o.mayOpen(n,r);if(u)throw new o.ErrnoError(u)}r&512&&!s&&o.truncate(n,0),r&=-131713;var d=o.createStream({node:n,path:o.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return d.stream_ops.open&&d.stream_ops.open(d),s&&o.chmod(n,t&511),c.logReadFiles&&!(r&1)&&(e in o.readFiles||(o.readFiles[e]=1)),d},close(e){if(o.isClosed(e))throw new o.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{o.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(o.isClosed(e))throw new o.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new o.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new o.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(y(t>=0),n<0||a<0)throw new o.ErrnoError(28);if(o.isClosed(e))throw new o.ErrnoError(8);if((e.flags&2097155)===1)throw new o.ErrnoError(8);if(o.isDir(e.node.mode))throw new o.ErrnoError(31);if(!e.stream_ops.read)throw new o.ErrnoError(28);var i=typeof a<"u";if(!i)a=e.position;else if(!e.seekable)throw new o.ErrnoError(70);var s=e.stream_ops.read(e,r,t,n,a);return i||(e.position+=s),s},write(e,r,t,n,a,i){if(y(t>=0),n<0||a<0)throw new o.ErrnoError(28);if(o.isClosed(e))throw new o.ErrnoError(8);if((e.flags&2097155)===0)throw new o.ErrnoError(8);if(o.isDir(e.node.mode))throw new o.ErrnoError(31);if(!e.stream_ops.write)throw new o.ErrnoError(28);e.seekable&&e.flags&1024&&o.llseek(e,0,2);var s=typeof a<"u";if(!s)a=e.position;else if(!e.seekable)throw new o.ErrnoError(70);var u=e.stream_ops.write(e,r,t,n,a,i);return s||(e.position+=u),u},mmap(e,r,t,n,a){if((n&2)!==0&&(a&2)===0&&(e.flags&2097155)!==2)throw new o.ErrnoError(2);if((e.flags&2097155)===1)throw new o.ErrnoError(2);if(!e.stream_ops.mmap)throw new o.ErrnoError(43);if(!r)throw new o.ErrnoError(28);return e.stream_ops.mmap(e,r,t,n,a)},msync(e,r,t,n,a){return y(t>=0),e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0},ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new o.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t=o.open(e,r.flags),n=o.stat(e),a=n.size,i=new Uint8Array(a);return o.read(t,i,0,a,0),r.encoding==="utf8"&&(i=he(i)),o.close(t),i},writeFile(e,r,t={}){t.flags=t.flags||577;var n=o.open(e,t.flags,t.mode);if(typeof r=="string"&&(r=new Uint8Array(lr(r,!0))),ArrayBuffer.isView(r))o.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");o.close(n)},cwd:()=>o.currentPath,chdir(e){var r=o.lookupPath(e,{follow:!0});if(r.node===null)throw new o.ErrnoError(44);if(!o.isDir(r.node.mode))throw new o.ErrnoError(54);var t=o.nodePermissions(r.node,"x");if(t)throw new o.ErrnoError(t);o.currentPath=r.path},createDefaultDirectories(){o.mkdir("/tmp"),o.mkdir("/home"),o.mkdir("/home/web_user")},createDefaultDevices(){o.mkdir("/dev"),o.registerDevice(o.makedev(1,3),{read:()=>0,write:(n,a,i,s,u)=>s,llseek:()=>0}),o.mkdev("/dev/null",o.makedev(1,3)),te.register(o.makedev(5,0),te.default_tty_ops),te.register(o.makedev(6,0),te.default_tty1_ops),o.mkdev("/dev/tty",o.makedev(5,0)),o.mkdev("/dev/tty1",o.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(Ur(e),r=e.byteLength),e[--r]);o.createDevice("/dev","random",t),o.createDevice("/dev","urandom",t),o.mkdir("/dev/shm"),o.mkdir("/dev/shm/tmp")},createSpecialDirectories(){o.mkdir("/proc");var e=o.mkdir("/proc/self");o.mkdir("/proc/self/fd"),o.mount({mount(){var r=o.createNode(e,"fd",16895,73);return r.stream_ops={llseek:L.stream_ops.llseek},r.node_ops={lookup(t,n){var a=+n,i=o.getStreamChecked(a),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:a+1};return s.parent=s,s},readdir(){return Array.from(o.streams.entries()).filter(([t,n])=>n).map(([t,n])=>t.toString())}},r}},{},"/proc/self/fd")},createStandardStreams(e,r,t){e?o.createDevice("/dev","stdin",e):o.symlink("/dev/tty","/dev/stdin"),r?o.createDevice("/dev","stdout",null,r):o.symlink("/dev/tty","/dev/stdout"),t?o.createDevice("/dev","stderr",null,t):o.symlink("/dev/tty1","/dev/stderr");var n=o.open("/dev/stdin",0),a=o.open("/dev/stdout",1),i=o.open("/dev/stderr",1);y(n.fd===0,`invalid handle for stdin (${n.fd})`),y(a.fd===1,`invalid handle for stdout (${a.fd})`),y(i.fd===2,`invalid handle for stderr (${i.fd})`)},staticInit(){o.nameTable=new Array(4096),o.mount(L,{},"/"),o.createDefaultDirectories(),o.createDefaultDevices(),o.createSpecialDirectories(),o.filesystems={MEMFS:L}},init(e,r,t){y(!o.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),o.initialized=!0,e??=c.stdin,r??=c.stdout,t??=c.stderr,o.createStandardStreams(e,r,t)},quit(){o.initialized=!1,ft(0);for(var e of o.streams)e&&o.close(e)},findObject(e,r){var t=o.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=o.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=o.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=O.basename(e),t=o.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(a){n.error=a.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:o.getPath(e);for(var a=r.split("/").reverse();a.length;){var i=a.pop();if(i){var s=O.join2(e,i);try{o.mkdir(s)}catch(u){if(u.errno!=20)throw u}e=s}}return s},createFile(e,r,t,n,a){var i=O.join2(typeof e=="string"?e:o.getPath(e),r),s=ur(n,a);return o.create(i,s)},createDataFile(e,r,t,n,a,i){var s=r;e&&(e=typeof e=="string"?e:o.getPath(e),s=r?O.join2(e,r):e);var u=ur(n,a),d=o.create(s,u);if(t){if(typeof t=="string"){for(var g=new Array(t.length),w=0,p=t.length;w<p;++w)g[w]=t.charCodeAt(w);t=g}o.chmod(d,u|146);var h=o.open(d,577);o.write(h,t,0,t.length,0,i),o.close(h),o.chmod(d,u)}},createDevice(e,r,t,n){var a=O.join2(typeof e=="string"?e:o.getPath(e),r),i=ur(!!t,!!n);o.createDevice.major??=64;var s=o.makedev(o.createDevice.major++,0);return o.registerDevice(s,{open(u){u.seekable=!1},close(u){n?.buffer?.length&&n(10)},read(u,d,g,w,p){for(var h=0,b=0;b<w;b++){var x;try{x=t()}catch{throw new o.ErrnoError(29)}if(x===void 0&&h===0)throw new o.ErrnoError(6);if(x==null)break;h++,d[g+b]=x}return h&&(u.node.atime=Date.now()),h},write(u,d,g,w,p){for(var h=0;h<w;h++)try{n(d[g+h])}catch{throw new o.ErrnoError(29)}return w&&(u.node.mtime=u.node.ctime=Date.now()),h}}),o.mkdev(a,i,s)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=Fe(e.url),e.usedBytes=e.contents.length}catch{throw new o.ErrnoError(29)}},createLazyFile(e,r,t,n,a){class i{lengthKnown=!1;chunks=[];get(b){if(!(b>this.length-1||b<0)){var x=b%this.chunkSize,M=b/this.chunkSize|0;return this.getter(M)[x]}}setDataGetter(b){this.getter=b}cacheLength(){var b=new XMLHttpRequest;if(b.open("HEAD",t,!1),b.send(null),!(b.status>=200&&b.status<300||b.status===304))throw new Error("Couldn't load "+t+". Status: "+b.status);var x=Number(b.getResponseHeader("Content-length")),M,B=(M=b.getResponseHeader("Accept-Ranges"))&&M==="bytes",T=(M=b.getResponseHeader("Content-Encoding"))&&M==="gzip",C=1024*1024;B||(C=x);var G=(X,Q)=>{if(X>Q)throw new Error("invalid range ("+X+", "+Q+") or no bytes requested!");if(Q>x-1)throw new Error("only "+x+" bytes available! programmer error!");var U=new XMLHttpRequest;if(U.open("GET",t,!1),x!==C&&U.setRequestHeader("Range","bytes="+X+"-"+Q),U.responseType="arraybuffer",U.overrideMimeType&&U.overrideMimeType("text/plain; charset=x-user-defined"),U.send(null),!(U.status>=200&&U.status<300||U.status===304))throw new Error("Couldn't load "+t+". Status: "+U.status);return U.response!==void 0?new Uint8Array(U.response||[]):lr(U.responseText||"",!0)},z=this;z.setDataGetter(X=>{var Q=X*C,U=(X+1)*C-1;if(U=Math.min(U,x-1),typeof z.chunks[X]>"u"&&(z.chunks[X]=G(Q,U)),typeof z.chunks[X]>"u")throw new Error("doXHR failed!");return z.chunks[X]}),(T||!x)&&(C=x=1,x=this.getter(0).length,C=x,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=x,this._chunkSize=C,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!me)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new i,u={isDevice:!1,contents:s}}else var u={isDevice:!1,url:t};var d=o.createFile(e,r,u,n,a);u.contents?d.contents=u.contents:u.url&&(d.contents=null,d.url=u.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var g={},w=Object.keys(d.stream_ops);w.forEach(h=>{var b=d.stream_ops[h];g[h]=(...x)=>(o.forceLoadFile(d),b(...x))});function p(h,b,x,M,B){var T=h.node.contents;if(B>=T.length)return 0;var C=Math.min(T.length-B,M);if(y(C>=0),T.slice)for(var G=0;G<C;G++)b[x+G]=T[B+G];else for(var G=0;G<C;G++)b[x+G]=T.get(B+G);return C}return g.read=(h,b,x,M,B)=>(o.forceLoadFile(d),p(h,b,x,M,B)),g.mmap=(h,b,x,M,B)=>{o.forceLoadFile(d);var T=Gr(b);if(!T)throw new o.ErrnoError(48);return p(h,A,T,b,x),{ptr:T,allocated:!0}},d.stream_ops=g,d},absolutePath(){W("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){W("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){W("FS.createLink has been removed; use FS.symlink instead")},joinPath(){W("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){W("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){W("FS.standardizePath has been removed; use PATH.normalize instead")}},I={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(O.isAbs(r))return r;var n;if(e===-100)n=o.cwd();else{var a=I.getStreamFromFD(e);n=a.path}if(r.length==0){if(!t)throw new o.ErrnoError(44);return n}return n+"/"+r},writeStat(e,r){v[e>>2]=r.dev,v[e+4>>2]=r.mode,k[e+8>>2]=r.nlink,v[e+12>>2]=r.uid,v[e+16>>2]=r.gid,v[e+20>>2]=r.rdev,J[e+24>>3]=BigInt(r.size),v[e+32>>2]=4096,v[e+36>>2]=r.blocks;var t=r.atime.getTime(),n=r.mtime.getTime(),a=r.ctime.getTime();return J[e+40>>3]=BigInt(Math.floor(t/1e3)),k[e+48>>2]=t%1e3*1e3*1e3,J[e+56>>3]=BigInt(Math.floor(n/1e3)),k[e+64>>2]=n%1e3*1e3*1e3,J[e+72>>3]=BigInt(Math.floor(a/1e3)),k[e+80>>2]=a%1e3*1e3*1e3,J[e+88>>3]=BigInt(r.ino),0},writeStatFs(e,r){v[e+4>>2]=r.bsize,v[e+40>>2]=r.bsize,v[e+8>>2]=r.blocks,v[e+12>>2]=r.bfree,v[e+16>>2]=r.bavail,v[e+20>>2]=r.files,v[e+24>>2]=r.ffree,v[e+28>>2]=r.fsid,v[e+44>>2]=r.flags,v[e+36>>2]=r.namelen},doMsync(e,r,t,n,a){if(!o.isFile(r.node.mode))throw new o.ErrnoError(43);if(n&2)return 0;var i=K.slice(e,e+t);o.msync(r,i,a,t,n)},getStreamFromFD(e){var r=o.getStreamChecked(e);return r},varargs:void 0,getStr(e){var r=q(e);return r}};function ln(e,r,t,n){try{if(r=I.getStr(r),y(!n||n==512),r=I.calculateAt(e,r),t&-8)return-28;var a=o.lookupPath(r,{follow:!0}),i=a.node;if(!i)return-44;var s="";return t&4&&(s+="r"),t&2&&(s+="w"),t&1&&(s+="x"),s&&o.nodePermissions(i,s)?-2:0}catch(u){if(typeof o>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var ze=()=>{y(I.varargs!=null);var e=v[+I.varargs>>2];return I.varargs+=4,e},pe=ze;function un(e,r,t){I.varargs=t;try{var n=I.getStreamFromFD(e);switch(r){case 0:{var a=ze();if(a<0)return-28;for(;o.streams[a];)a++;var i;return i=o.dupStream(n,a),i.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var a=ze();return n.flags|=a,0}case 12:{var a=pe(),s=0;return ee[a+s>>1]=2,0}case 13:case 14:return 0}return-28}catch(u){if(typeof o>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function cn(e,r){try{return I.writeStat(r,o.fstat(e))}catch(t){if(typeof o>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}var H=(e,r,t)=>(y(typeof t=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Wr(e,K,r,t));function dn(e,r){try{if(r===0)return-28;var t=o.cwd(),n=se(t)+1;return r<n?-68:(H(t,e,r),n)}catch(a){if(typeof o>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function fn(e,r,t){try{var n=I.getStreamFromFD(e);n.getdents||=o.readdir(n.path);for(var a=280,i=0,s=o.llseek(n,0,1),u=Math.floor(s/a),d=Math.min(n.getdents.length,u+Math.floor(t/a)),g=u;g<d;g++){var w,p,h=n.getdents[g];if(h===".")w=n.node.id,p=4;else if(h===".."){var b=o.lookupPath(n.path,{parent:!0});w=b.node.id,p=4}else{var x;try{x=o.lookupNode(n.node,h)}catch(M){if(M?.errno===28)continue;throw M}w=x.id,p=o.isChrdev(x.mode)?2:o.isDir(x.mode)?4:o.isLink(x.mode)?10:8}y(w),J[r+i>>3]=BigInt(w),J[r+i+8>>3]=BigInt((g+1)*a),ee[r+i+16>>1]=280,A[r+i+18]=p,H(h,r+i+19,256),i+=a}return o.llseek(n,g*a,0),i}catch(M){if(typeof o>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function vn(e,r,t){I.varargs=t;try{var n=I.getStreamFromFD(e);switch(r){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),i=pe();v[i>>2]=a.c_iflag||0,v[i+4>>2]=a.c_oflag||0,v[i+8>>2]=a.c_cflag||0,v[i+12>>2]=a.c_lflag||0;for(var s=0;s<32;s++)A[i+s+17]=a.c_cc[s]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var i=pe(),u=v[i>>2],d=v[i+4>>2],g=v[i+8>>2],w=v[i+12>>2],p=[],s=0;s<32;s++)p.push(A[i+s+17]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:u,c_oflag:d,c_cflag:g,c_lflag:w,c_cc:p})}return 0}case 21519:{if(!n.tty)return-59;var i=pe();return v[i>>2]=0,0}case 21520:return n.tty?-28:-59;case 21537:case 21531:{var i=pe();return o.ioctl(n,r,i)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var h=n.tty.ops.ioctl_tiocgwinsz(n.tty),i=pe();ee[i>>1]=h[0],ee[i+2>>1]=h[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(b){if(typeof o>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function mn(e,r){try{return e=I.getStr(e),I.writeStat(r,o.lstat(e))}catch(t){if(typeof o>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function _n(e,r,t){try{return r=I.getStr(r),r=I.calculateAt(e,r),o.mkdir(r,t,0),0}catch(n){if(typeof o>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function gn(e,r,t,n){try{r=I.getStr(r);var a=n&256,i=n&4096;return n=n&-6401,y(!n,`unknown flags in __syscall_newfstatat: ${n}`),r=I.calculateAt(e,r,i),I.writeStat(t,a?o.lstat(r):o.stat(r))}catch(s){if(typeof o>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function hn(e,r,t,n){I.varargs=n;try{r=I.getStr(r),r=I.calculateAt(e,r);var a=n?ze():0;return o.open(r,t,a).fd}catch(i){if(typeof o>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function wn(e,r,t,n){try{if(r=I.getStr(r),r=I.calculateAt(e,r),n<=0)return-28;var a=o.readlink(r),i=Math.min(n,se(a)),s=A[t+i];return H(a,t,n+1),A[t+i]=s,i}catch(u){if(typeof o>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function pn(e){try{return e=I.getStr(e),o.rmdir(e),0}catch(r){if(typeof o>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function yn(e,r){try{return e=I.getStr(e),I.writeStat(r,o.stat(e))}catch(t){if(typeof o>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function En(e,r,t){try{if(r=I.getStr(r),r=I.calculateAt(e,r),!t)o.unlink(r);else if(t===512)o.rmdir(r);else return-28;return 0}catch(n){if(typeof o>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var bn=()=>W("native code called abort()"),Fn=e=>{do{var r=k[e>>2];e+=4;var t=k[e>>2];e+=4;var n=k[e>>2];e+=4;var a=q(r);o.createPath("/",O.dirname(a),!0,!0),o.createDataFile(a,null,A.subarray(n,n+t),!0,!0,!0)}while(k[e>>2])},Sn=e=>e%4===0&&(e%100!==0||e%400===0),xn=[0,31,60,91,121,152,182,213,244,274,305,335],kn=[0,31,59,90,120,151,181,212,243,273,304,334],Yr=e=>{var r=Sn(e.getFullYear()),t=r?xn:kn,n=t[e.getMonth()]+e.getDate()-1;return n},Cn=9007199254740992,Tn=-9007199254740992,cr=e=>e<Tn||e>Cn?NaN:Number(e);function Dn(e,r){e=cr(e);var t=new Date(e*1e3);v[r>>2]=t.getSeconds(),v[r+4>>2]=t.getMinutes(),v[r+8>>2]=t.getHours(),v[r+12>>2]=t.getDate(),v[r+16>>2]=t.getMonth(),v[r+20>>2]=t.getFullYear()-1900,v[r+24>>2]=t.getDay();var n=Yr(t)|0;v[r+28>>2]=n,v[r+36>>2]=-(t.getTimezoneOffset()*60);var a=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=a.getTimezoneOffset(),u=(i!=s&&t.getTimezoneOffset()==Math.min(s,i))|0;v[r+32>>2]=u}var An=function(e){var r=(()=>{var t=new Date(v[e+20>>2]+1900,v[e+16>>2],v[e+12>>2],v[e+8>>2],v[e+4>>2],v[e>>2],0),n=v[e+32>>2],a=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),d=Math.min(u,s);if(n<0)v[e+32>>2]=+(s!=u&&d==a);else if(n>0!=(d==a)){var g=Math.max(u,s),w=n>0?d:g;t.setTime(t.getTime()+(w-a)*6e4)}v[e+24>>2]=t.getDay();var p=Yr(t)|0;v[e+28>>2]=p,v[e>>2]=t.getSeconds(),v[e+4>>2]=t.getMinutes(),v[e+8>>2]=t.getHours(),v[e+12>>2]=t.getDate(),v[e+16>>2]=t.getMonth(),v[e+20>>2]=t.getYear();var h=t.getTime();return isNaN(h)?-1:h/1e3})();return BigInt(r)},Ln=(e,r,t,n)=>{var a=new Date().getFullYear(),i=new Date(a,0,1),s=new Date(a,6,1),u=i.getTimezoneOffset(),d=s.getTimezoneOffset(),g=Math.max(u,d);k[e>>2]=g*60,v[r>>2]=+(u!=d);var w=b=>{var x=b>=0?"-":"+",M=Math.abs(b),B=String(Math.floor(M/60)).padStart(2,"0"),T=String(M%60).padStart(2,"0");return`UTC${x}${B}${T}`},p=w(u),h=w(d);y(p),y(h),y(se(p)<=16,`timezone name truncated to fit in TZNAME_MAX (${p})`),y(se(h)<=16,`timezone name truncated to fit in TZNAME_MAX (${h})`),d<u?(H(p,t,17),H(h,n,17)):(H(p,n,17),H(h,t,17))},Le=()=>performance.now(),Xr=()=>Date.now(),Mn=1,Pn=e=>e>=0&&e<=3;function Rn(e,r,t){if(r=cr(r),!Pn(e))return 28;var n;if(e===0)n=Xr();else if(Mn)n=Le();else return 52;var a=Math.round(n*1e3*1e3);return J[t>>3]=BigInt(a),0}var He=[],In=(e,r)=>{y(Array.isArray(He)),y(r%16==0),He.length=0;for(var t;t=K[e++];){var n=String.fromCharCode(t),a=["d","f","i","p"];a.push("j"),y(a.includes(n),`Invalid character ${t}("${n}") in readEmAsmArgs! Use only [${a}], and do not specify "v" for void return argument.`);var i=t!=105;i&=t!=112,r+=i&&r%8?4:0,He.push(t==112?k[r>>2]:t==106?J[r>>3]:t==105?v[r>>2]:V[r>>3]),r+=i?8:4}return He},qr=(e,r,t)=>{var n=In(r,t);return y(ut.hasOwnProperty(e),`No EM_ASM constant found at address ${e}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),ut[e](...n)},On=(e,r,t)=>qr(e,r,t),Bn=(e,r,t)=>qr(e,r,t),Nn=e=>e>2?q(e):e,je=[0,typeof document<"u"?document:0,typeof window<"u"?window:0],ne=e=>{e=Nn(e);var r=je[e]||(typeof document<"u"?document.querySelector(e):null);return r},dr=e=>je.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},Un=(e,r,t)=>{if(e=ne(e),!e)return-4;var n=dr(e);return V[r>>3]=n.width,V[t>>3]=n.height,0},$r=[],Wn=e=>$r.push(e),F={memcpy(e,r,t){A.set(A.subarray(r,r+t),e)},removeAllEventListeners(){for(;F.eventHandlers.length;)F._removeHandler(F.eventHandlers.length-1);F.deferredCalls=[]},registerRemoveEventListeners(){F.removeEventListenersRegistered||(Wn(F.removeAllEventListeners),F.removeEventListenersRegistered=!0)},inEventHandler:0,deferredCalls:[],deferCall(e,r,t){function n(i,s){if(i.length!=s.length)return!1;for(var u in i)if(i[u]!=s[u])return!1;return!0}for(var a of F.deferredCalls)if(a.targetFunction==e&&n(a.argsList,t))return;F.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),F.deferredCalls.sort((i,s)=>i.precedence<s.precedence)},removeDeferredCalls(e){F.deferredCalls=F.deferredCalls.filter(r=>r.targetFunction!=e)},canPerformEventHandlerRequests(){return navigator.userActivation?navigator.userActivation.isActive:F.inEventHandler&&F.currentEventHandler.allowsDeferredCalls},runDeferredCalls(){if(F.canPerformEventHandlerRequests()){var e=F.deferredCalls;F.deferredCalls=[];for(var r of e)r.targetFunction(...r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(e,r)=>{for(var t=0;t<F.eventHandlers.length;++t)F.eventHandlers[t].target==e&&(!r||r==F.eventHandlers[t].eventTypeString)&&F._removeHandler(t--)},_removeHandler(e){var r=F.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),F.eventHandlers.splice(e,1)},registerOrRemoveHandler(e){if(!e.target)return P("registerOrRemoveHandler: the target element for event handler registration does not exist, when processing the following event handler registration:"),console.dir(e),-4;if(e.callbackfunc)e.eventListenerFunc=function(t){++F.inEventHandler,F.currentEventHandler=e,F.runDeferredCalls(),e.handlerFunc(t),F.runDeferredCalls(),--F.inEventHandler},e.target.addEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),F.eventHandlers.push(e),F.registerRemoveEventListeners();else for(var r=0;r<F.eventHandlers.length;++r)F.eventHandlers[r].target==e.target&&F.eventHandlers[r].eventTypeString==e.eventTypeString&&F._removeHandler(r--);return 0},getNodeNameForTarget(e){return e?e==window?"#window":e==screen?"#screen":e?.nodeName||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},Vr=(e,r)=>{V[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)V[e+t*8+16>>3]=r.axes[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?V[e+t*8+528>>3]=r.buttons[t].value:V[e+t*8+528>>3]=r.buttons[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?A[e+t+1040]=r.buttons[t].pressed:A[e+t+1040]=r.buttons[t]==1;A[e+1104]=r.connected,v[e+1108>>2]=r.index,v[e+8>>2]=r.axes.length,v[e+12>>2]=r.buttons.length,H(r.id,e+1112,64),H(r.mapping,e+1176,64)},Gn=(e,r)=>{if(!F.lastGamepadState)throw"emscripten_get_gamepad_status() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!";return e<0||e>=F.lastGamepadState.length?-5:F.lastGamepadState[e]?(Vr(r,F.lastGamepadState[e]),0):-7},zn=()=>{if(!F.lastGamepadState)throw"emscripten_get_num_gamepads() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!";return F.lastGamepadState.length},Hn=e=>{W(`Cannot enlarge memory arrays to size ${e} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${A.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},jn=e=>{var r=K.length;e>>>=0,Hn(e)},fr=()=>{try{if(navigator.getGamepads)return(F.lastGamepadState=navigator.getGamepads())?0:-1}catch(e){P(`navigator.getGamepads() exists, but failed to execute with exception ${e}. Disabling Gamepad access.`),navigator.getGamepads=null}return-1},Kr=(e,r,t,n,a,i,s)=>{F.focusEvent||=$(256);var u=(g=event)=>{var w=F.getNodeNameForTarget(g.target),p=g.target.id?g.target.id:"",h=F.focusEvent;H(w,h+0,128),H(p,h+128,128),((b,x,M)=>ie(n,b,x,M))(a,h,r)&&g.preventDefault()},d={target:ne(e),eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},Yn=(e,r,t,n,a)=>Kr(e,r,t,n,12,"blur",a),Xn=ne,qn=(e,r,t)=>{var n=Xn(e);return n?(n.width=r,n.height=t,0):-4},$n=(e,r,t)=>{y(e%4==0),V[e>>3]=r.timeStamp;var n=e>>2;v[n+2]=r.screenX,v[n+3]=r.screenY,v[n+4]=r.clientX,v[n+5]=r.clientY,A[e+24]=r.ctrlKey,A[e+25]=r.shiftKey,A[e+26]=r.altKey,A[e+27]=r.metaKey,ee[n*2+14]=r.button,ee[n*2+15]=r.buttons,v[n+8]=r.movementX,v[n+9]=r.movementY;var a=dr(t);v[n+10]=r.clientX-(a.left|0),v[n+11]=r.clientY-(a.top|0)},Jr=(e,r,t,n,a,i,s)=>{F.mouseEvent||=$(64),e=ne(e);var u=(g=event)=>{$n(F.mouseEvent,g,e),((w,p,h)=>ie(n,w,p,h))(a,F.mouseEvent,r)&&g.preventDefault()},d={target:e,allowsDeferredCalls:i!="mousemove"&&i!="mouseenter"&&i!="mouseleave",eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},Vn=(e,r,t,n,a)=>Jr(e,r,t,n,4,"click",a),Kn=(e,r,t,n,a)=>Kr(e,r,t,n,13,"focus",a),Jn=e=>{var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;A[e]=t,A[e+1]=F.fullscreenEnabled();var n=t?r:F.previousFullscreenElement,a=F.getNodeNameForTarget(n),i=n?.id||"";H(a,e+2,128),H(i,e+130,128),v[e+260>>2]=n?n.clientWidth:0,v[e+264>>2]=n?n.clientHeight:0,v[e+268>>2]=screen.width,v[e+272>>2]=screen.height,t&&(F.previousFullscreenElement=r)},Qr=(e,r,t,n,a,i,s)=>{F.fullscreenChangeEvent||=$(276);var u=(g=event)=>{var w=F.fullscreenChangeEvent;Jn(w),((p,h,b)=>ie(n,p,h,b))(a,w,r)&&g.preventDefault()},d={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},Qn=(e,r,t,n,a)=>F.fullscreenEnabled()?(e=ne(e),e?(Qr(e,r,t,n,19,"webkitfullscreenchange",a),Qr(e,r,t,n,19,"fullscreenchange",a)):-4):-1,Zr=(e,r,t,n,a,i,s)=>{F.gamepadEvent||=$(1240);var u=(g=event)=>{var w=F.gamepadEvent;Vr(w,g.gamepad),((p,h,b)=>ie(n,p,h,b))(a,w,r)&&g.preventDefault()},d={target:ne(e),allowsDeferredCalls:!0,eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},Zn=(e,r,t,n)=>fr()?-1:Zr(2,e,r,t,26,"gamepadconnected",n),ea=(e,r,t,n)=>fr()?-1:Zr(2,e,r,t,27,"gamepaddisconnected",n),ra=(e,r,t,n,a)=>Jr(e,r,t,n,8,"mousemove",a),ta=e=>{var r=document.pointerLockElement,t=!!r;A[e]=t;var n=F.getNodeNameForTarget(r),a=r?.id||"";H(n,e+1,128),H(a,e+129,128)},na=(e,r,t,n,a,i,s)=>{F.pointerlockChangeEvent||=$(257);var u=(g=event)=>{var w=F.pointerlockChangeEvent;ta(w),((p,h,b)=>ie(n,p,h,b))(a,w,r)&&g.preventDefault()},d={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},aa=(e,r,t,n,a)=>document.body?.requestPointerLock?(e=ne(e),e?na(e,r,t,n,20,"pointerlockchange",a):-4):-1,ia=(e,r,t,n,a,i,s)=>{F.uiEvent||=$(36),e=ne(e);var u=(g=event)=>{if(g.target==e){var w=document.body;if(w){var p=F.uiEvent;v[p>>2]=0,v[p+4>>2]=w.clientWidth,v[p+8>>2]=w.clientHeight,v[p+12>>2]=innerWidth,v[p+16>>2]=innerHeight,v[p+20>>2]=outerWidth,v[p+24>>2]=outerHeight,v[p+28>>2]=pageXOffset|0,v[p+32>>2]=pageYOffset|0,((h,b,x)=>ie(n,h,b,x))(a,p,r)&&g.preventDefault()}}},d={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},oa=(e,r,t,n,a)=>ia(e,r,t,n,10,"resize",a),Ye=(e,r,t,n,a,i,s)=>{F.touchEvent||=$(1552),e=ne(e);var u=g=>{y(g);var w,p={},h=g.touches;for(let C of h)C.isChanged=C.onTarget=0,p[C.identifier]=C;for(let C of g.changedTouches)C.isChanged=1,p[C.identifier]=C;for(let C of g.targetTouches)p[C.identifier].onTarget=1;var b=F.touchEvent;V[b>>3]=g.timeStamp,A[b+12]=g.ctrlKey,A[b+13]=g.shiftKey,A[b+14]=g.altKey,A[b+15]=g.metaKey;var x=b+16,M=dr(e),B=0;for(let C of Object.values(p)){var T=x>>2;if(v[T+0]=C.identifier,v[T+1]=C.screenX,v[T+2]=C.screenY,v[T+3]=C.clientX,v[T+4]=C.clientY,v[T+5]=C.pageX,v[T+6]=C.pageY,A[x+28]=C.isChanged,A[x+29]=C.onTarget,v[T+8]=C.clientX-(M.left|0),v[T+9]=C.clientY-(M.top|0),x+=48,++B>31)break}v[b+8>>2]=B,((C,G,z)=>ie(n,C,G,z))(a,b,r)&&g.preventDefault()},d={target:e,allowsDeferredCalls:i=="touchstart"||i=="touchend",eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},sa=(e,r,t,n,a)=>Ye(e,r,t,n,25,"touchcancel",a),la=(e,r,t,n,a)=>Ye(e,r,t,n,23,"touchend",a),ua=(e,r,t,n,a)=>Ye(e,r,t,n,24,"touchmove",a),ca=(e,r,t,n,a)=>Ye(e,r,t,n,22,"touchstart",a),da=e=>{var r=["hidden","visible","prerender","unloaded"],t=r.indexOf(document.visibilityState);A[e]=document.hidden,v[e+4>>2]=t},fa=(e,r,t,n,a,i,s)=>{F.visibilityChangeEvent||=$(8);var u=(g=event)=>{var w=F.visibilityChangeEvent;da(w),((p,h,b)=>ie(n,p,h,b))(a,w,r)&&g.preventDefault()},d={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:u,useCapture:t};return F.registerOrRemoveHandler(d)},va=(e,r,t,n)=>je[1]?fa(je[1],e,r,t,21,"visibilitychange",n):-4,vr=e=>{if(e instanceof Ir||e=="unwind")return Be;ce(),e instanceof WebAssembly.RuntimeError&&Er()<=0&&P("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)"),rr(1,e)},Me=0,Xe=()=>Br||Me>0,ma=e=>{Be=e,Xe()||(c.onExit?.(e),Z=!0),rr(e,new Ir(e))},et=(e,r)=>{if(Be=e,Xe()||Nt(),Xe()&&!r){var t=`program exited (with status: ${e}), but keepRuntimeAlive() is set (counter=${Me}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;nr?.(t),P(t)}ma(e)},rt=et,tt=()=>{if(!Te&&!Xe())try{rt(Be)}catch(e){vr(e)}},mr=e=>{if(Te||Z){P("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{e(),tt()}catch(r){vr(r)}},_r=()=>{Me+=1},gr=()=>{y(Me>0),Me-=1},hr=(e,r)=>(_r(),setTimeout(()=>{gr(),mr(e)},r)),f={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},getCanvas:()=>c.canvas,init(){if(f.initted)return;f.initted=!0;var e={};e.canHandle=function(i){return!c.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(i)},e.handle=function(i,s,u,d){var g=new Blob([i],{type:f.getMimetype(s)});g.size!==i.length&&(g=new Blob([new Uint8Array(i).buffer],{type:f.getMimetype(s)}));var w=URL.createObjectURL(g);y(typeof w=="string","createObjectURL must return a url as a string");var p=new Image;p.onload=()=>{y(p.complete,`Image ${s} could not be decoded`);var h=document.createElement("canvas");h.width=p.width,h.height=p.height;var b=h.getContext("2d");b.drawImage(p,0,0),f.preloadedImages[s]=h,URL.revokeObjectURL(w),u?.(i)},p.onerror=h=>{P(`Image ${w} could not be decoded`),d?.()},p.src=w},Ge.push(e);var r={};r.canHandle=function(i){return!c.noAudioDecoding&&i.slice(-4)in{".ogg":1,".wav":1,".mp3":1}},r.handle=function(i,s,u,d){var g=!1;function w(M){g||(g=!0,f.preloadedAudios[s]=M,u?.(i))}function p(){g||(g=!0,f.preloadedAudios[s]=new Audio,d?.())}var h=new Blob([i],{type:f.getMimetype(s)}),b=URL.createObjectURL(h);y(typeof b=="string","createObjectURL must return a url as a string");var x=new Audio;x.addEventListener("canplaythrough",()=>w(x),!1),x.onerror=function(B){if(g)return;P(`warning: browser could not fully decode audio ${s}, trying slower base64 approach`);function T(C){for(var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z="=",X="",Q=0,U=0,xr=0;xr<C.length;xr++)for(Q=Q<<8|C[xr],U+=8;U>=6;){var os=Q>>U-6&63;U-=6,X+=G[os]}return U==2?(X+=G[(Q&3)<<4],X+=z+z):U==4&&(X+=G[(Q&15)<<2],X+=z),X}x.src="data:audio/x-"+s.slice(-3)+";base64,"+T(i),w(x)},x.src=b,hr(()=>{w(x)},1e4)},Ge.push(r);function t(){var a=f.getCanvas();f.pointerLock=document.pointerLockElement===a}var n=f.getCanvas();n&&(document.addEventListener("pointerlockchange",t,!1),c.elementPointerLock&&n.addEventListener("click",a=>{!f.pointerLock&&f.getCanvas().requestPointerLock&&(f.getCanvas().requestPointerLock(),a.preventDefault())},!1))},createContext(e,r,t,n){if(r&&c.ctx&&e==f.getCanvas())return c.ctx;var a,i;if(r){var s={antialias:!1,alpha:!1,majorVersion:typeof WebGL2RenderingContext<"u"?2:1};if(n)for(var u in n)s[u]=n[u];typeof m<"u"&&(i=m.createContext(e,s),i&&(a=m.getContext(i).GLctx))}else a=e.getContext("2d");return a?(t&&(r||y(typeof _>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),c.ctx=a,r&&m.makeContextCurrent(i),f.useWebGL=r,f.moduleContextCreatedCallbacks.forEach(d=>d()),f.init()),a):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,r){f.lockPointer=e,f.resizeCanvas=r,typeof f.lockPointer>"u"&&(f.lockPointer=!0),typeof f.resizeCanvas>"u"&&(f.resizeCanvas=!1);var t=f.getCanvas();function n(){f.isFullscreen=!1;var i=t.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===i?(t.exitFullscreen=f.exitFullscreen,f.lockPointer&&t.requestPointerLock(),f.isFullscreen=!0,f.resizeCanvas?f.setFullscreenCanvasSize():f.updateCanvasDimensions(t)):(i.parentNode.insertBefore(t,i),i.parentNode.removeChild(i),f.resizeCanvas?f.setWindowedCanvasSize():f.updateCanvasDimensions(t)),c.onFullScreen?.(f.isFullscreen),c.onFullscreen?.(f.isFullscreen)}f.fullscreenHandlersInstalled||(f.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var a=document.createElement("div");t.parentNode.insertBefore(a,t),a.appendChild(t),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},requestFullScreen(){W("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen(){if(!f.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{});return e.apply(document,[]),!0},safeSetTimeout(e,r){return hr(e,r)},getMimetype(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.slice(e.lastIndexOf(".")+1)]},getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,r){var t=f.getCanvas(),n=t.getBoundingClientRect(),a=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,i=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;y(typeof a<"u"&&typeof i<"u","Unable to retrieve scroll position, mouse positions likely broken.");var s=e-(a+n.left),u=r-(i+n.top);return s=s*(t.width/n.width),u=u*(t.height/n.height),{x:s,y:u}},setMouseCoords(e,r){const{x:t,y:n}=f.calculateMouseCoords(e,r);f.mouseMovementX=t-f.mouseX,f.mouseMovementY=n-f.mouseY,f.mouseX=t,f.mouseY=n},calculateMouseEvent(e){if(f.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?f.mouseMovementX=f.mouseMovementY=0:(f.mouseMovementX=f.getMovementX(e),f.mouseMovementY=f.getMovementY(e)),f.mouseX+=f.mouseMovementX,f.mouseY+=f.mouseMovementY;else{if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var r=e.touch;if(r===void 0)return;var t=f.calculateMouseCoords(r.pageX,r.pageY);if(e.type==="touchstart")f.lastTouches[r.identifier]=t,f.touches[r.identifier]=t;else if(e.type==="touchend"||e.type==="touchmove"){var n=f.touches[r.identifier];n||=t,f.lastTouches[r.identifier]=n,f.touches[r.identifier]=t}return}f.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=f.getCanvas();f.resizeListeners.forEach(r=>r(e.width,e.height))},setCanvasSize(e,r,t){var n=f.getCanvas();f.updateCanvasDimensions(n,e,r),t||f.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL<"u"){var e=k[SDL.screen>>2];e=e|8388608,v[SDL.screen>>2]=e}f.updateCanvasDimensions(f.getCanvas()),f.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL<"u"){var e=k[SDL.screen>>2];e=e&-8388609,v[SDL.screen>>2]=e}f.updateCanvasDimensions(f.getCanvas()),f.updateResizeListeners()},updateCanvasDimensions(e,r,t){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var n=r,a=t;if(c.forcedAspectRatio>0&&(n/a<c.forcedAspectRatio?n=Math.round(a*c.forcedAspectRatio):a=Math.round(n/c.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var i=Math.min(screen.width/n,screen.height/a);n=Math.round(n*i),a=Math.round(a*i)}f.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=a&&(e.height=a),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),typeof e.style<"u"&&(n!=r||a!=t?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},nt=e=>document.title=q(e),at=e=>S.handleSleep(r=>hr(r,e));at.isAsync=!0;function _a(e){try{var r=I.getStreamFromFD(e);return o.close(r),0}catch(t){if(typeof o>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var ga=(e,r,t,n)=>{for(var a=0,i=0;i<t;i++){var s=k[r>>2],u=k[r+4>>2];r+=8;var d=o.read(e,A,s,u,n);if(d<0)return-1;if(a+=d,d<u)break;typeof n<"u"&&(n+=d)}return a};function ha(e,r,t,n){try{var a=I.getStreamFromFD(e),i=ga(a,r,t);return k[n>>2]=i,0}catch(s){if(typeof o>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function wa(e,r,t,n){r=cr(r);try{if(isNaN(r))return 61;var a=I.getStreamFromFD(e);return o.llseek(a,r,t),J[n>>3]=BigInt(a.position),a.getdents&&r===0&&t===0&&(a.getdents=null),0}catch(i){if(typeof o>"u"||i.name!=="ErrnoError")throw i;return i.errno}}var pa=(e,r,t,n)=>{for(var a=0,i=0;i<t;i++){var s=k[r>>2],u=k[r+4>>2];r+=8;var d=o.write(e,A,s,u,n);if(d<0)return-1;if(a+=d,d<u)break;typeof n<"u"&&(n+=d)}return a};function ya(e,r,t,n){try{var a=I.getStreamFromFD(e),i=pa(a,r,t);return k[n>>2]=i,0}catch(s){if(typeof o>"u"||s.name!=="ErrnoError")throw s;return s.errno}}var _,Ea=e=>{var r=e.getExtension("ANGLE_instanced_arrays");if(r)return e.vertexAttribDivisor=(t,n)=>r.vertexAttribDivisorANGLE(t,n),e.drawArraysInstanced=(t,n,a,i)=>r.drawArraysInstancedANGLE(t,n,a,i),e.drawElementsInstanced=(t,n,a,i,s)=>r.drawElementsInstancedANGLE(t,n,a,i,s),1},ba=e=>{var r=e.getExtension("OES_vertex_array_object");if(r)return e.createVertexArray=()=>r.createVertexArrayOES(),e.deleteVertexArray=t=>r.deleteVertexArrayOES(t),e.bindVertexArray=t=>r.bindVertexArrayOES(t),e.isVertexArray=t=>r.isVertexArrayOES(t),1},Fa=e=>{var r=e.getExtension("WEBGL_draw_buffers");if(r)return e.drawBuffers=(t,n)=>r.drawBuffersWEBGL(t,n),1},Sa=e=>!!(e.dibvbi=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")),xa=e=>!!(e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")),ka=e=>!!(e.extPolygonOffsetClamp=e.getExtension("EXT_polygon_offset_clamp")),Ca=e=>!!(e.extClipControl=e.getExtension("EXT_clip_control")),Ta=e=>!!(e.webglPolygonMode=e.getExtension("WEBGL_polygon_mode")),Da=e=>!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")),it=e=>{var r=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_color_buffer_float","EXT_conservative_depth","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","NV_shader_noperspective_interpolation","WEBGL_clip_cull_distance","EXT_clip_control","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_polygon_offset_clamp","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","WEBGL_polygon_mode"];return(e.getSupportedExtensions()||[]).filter(t=>r.includes(t))},m={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,unpackRowLength:0,recordError:e=>{m.lastError||(m.lastError=e)},getNewId:e=>{for(var r=m.counter++,t=e.length;t<r;t++)e[t]=null;return r},genObject:(e,r,t,n)=>{for(var a=0;a<e;a++){var i=_[t](),s=i&&m.getNewId(n);i?(i.name=s,n[s]=i):m.recordError(1282),v[r+a*4>>2]=s}},getSource:(e,r,t,n)=>{for(var a="",i=0;i<r;++i){var s=n?k[n+i*4>>2]:void 0;a+=q(k[t+i*4>>2],s)}return a},createContext:(e,r)=>{if(!e.getContextSafariWebGL2Fixed){let i=function(s,u){var d=e.getContextSafariWebGL2Fixed(s,u);return s=="webgl"==d instanceof WebGLRenderingContext?d:null};var a=i;e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=i}var t=r.majorVersion>1?e.getContext("webgl2",r):e.getContext("webgl",r);if(!t)return 0;var n=m.registerContext(t,r);return n},registerContext:(e,r)=>{var t=m.getNewId(m.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),m.contexts[t]=n,(typeof r.enableExtensionsByDefault>"u"||r.enableExtensionsByDefault)&&m.initExtensions(n),t},makeContextCurrent:e=>(m.currentContext=m.contexts[e],c.ctx=_=m.currentContext?.GLctx,!(e&&!_)),getContext:e=>m.contexts[e],deleteContext:e=>{m.currentContext===m.contexts[e]&&(m.currentContext=null),typeof F=="object"&&F.removeAllHandlersOnTarget(m.contexts[e].GLctx.canvas),m.contexts[e]?.GLctx.canvas&&(m.contexts[e].GLctx.canvas.GLctxObject=void 0),m.contexts[e]=null},initExtensions:e=>{if(e||=m.currentContext,!e.initExtensionsDone){e.initExtensionsDone=!0;var r=e.GLctx;Da(r),ka(r),Ca(r),Ta(r),Ea(r),ba(r),Fa(r),Sa(r),xa(r),e.version>=2&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!r.disjointTimerQueryExt)&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query")),it(r).forEach(t=>{!t.includes("lose_context")&&!t.includes("debug")&&r.getExtension(t)})}}},Aa=e=>_.activeTexture(e),La=(e,r)=>{_.attachShader(m.programs[e],m.shaders[r])},Ma=(e,r,t)=>{_.bindAttribLocation(m.programs[e],r,q(t))},Pa=(e,r)=>{e==35051?_.currentPixelPackBufferBinding=r:e==35052&&(_.currentPixelUnpackBufferBinding=r),_.bindBuffer(e,m.buffers[r])},Ra=(e,r)=>{_.bindFramebuffer(e,m.framebuffers[r])},Ia=(e,r)=>{_.bindRenderbuffer(e,m.renderbuffers[r])},Oa=(e,r)=>{_.bindTexture(e,m.textures[r])},Ba=e=>{_.bindVertexArray(m.vaos[e])},Na=(e,r)=>_.blendFunc(e,r),Ua=(e,r,t,n)=>{if(m.currentContext.version>=2){t&&r?_.bufferData(e,K,n,t,r):_.bufferData(e,r,n);return}_.bufferData(e,t?K.subarray(t,t+r):r,n)},Wa=(e,r,t,n)=>{if(m.currentContext.version>=2){t&&_.bufferSubData(e,r,K,n,t);return}_.bufferSubData(e,r,K.subarray(n,n+t))},Ga=e=>_.checkFramebufferStatus(e),za=e=>_.clear(e),Ha=(e,r,t,n)=>_.clearColor(e,r,t,n),ja=e=>_.clearDepth(e),Ya=e=>{_.compileShader(m.shaders[e])},Xa=(e,r,t,n,a,i,s,u)=>{if(m.currentContext.version>=2){if(_.currentPixelUnpackBufferBinding||!s){_.compressedTexImage2D(e,r,t,n,a,i,s,u);return}_.compressedTexImage2D(e,r,t,n,a,i,K,u,s);return}_.compressedTexImage2D(e,r,t,n,a,i,K.subarray(u,u+s))},qa=()=>{var e=m.getNewId(m.programs),r=_.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,m.programs[e]=r,e},$a=e=>{var r=m.getNewId(m.shaders);return m.shaders[r]=_.createShader(e),r},Va=e=>_.cullFace(e),Ka=(e,r)=>{for(var t=0;t<e;t++){var n=v[r+t*4>>2],a=m.buffers[n];a&&(_.deleteBuffer(a),a.name=0,m.buffers[n]=null,n==_.currentPixelPackBufferBinding&&(_.currentPixelPackBufferBinding=0),n==_.currentPixelUnpackBufferBinding&&(_.currentPixelUnpackBufferBinding=0))}},Ja=(e,r)=>{for(var t=0;t<e;++t){var n=v[r+t*4>>2],a=m.framebuffers[n];a&&(_.deleteFramebuffer(a),a.name=0,m.framebuffers[n]=null)}},Qa=e=>{if(e){var r=m.programs[e];if(!r){m.recordError(1281);return}_.deleteProgram(r),r.name=0,m.programs[e]=null}},Za=(e,r)=>{for(var t=0;t<e;t++){var n=v[r+t*4>>2],a=m.renderbuffers[n];a&&(_.deleteRenderbuffer(a),a.name=0,m.renderbuffers[n]=null)}},ei=e=>{if(e){var r=m.shaders[e];if(!r){m.recordError(1281);return}_.deleteShader(r),m.shaders[e]=null}},ri=(e,r)=>{for(var t=0;t<e;t++){var n=v[r+t*4>>2],a=m.textures[n];a&&(_.deleteTexture(a),a.name=0,m.textures[n]=null)}},ti=(e,r)=>{for(var t=0;t<e;t++){var n=v[r+t*4>>2];_.deleteVertexArray(m.vaos[n]),m.vaos[n]=null}},ni=e=>_.depthFunc(e),ai=(e,r)=>{_.detachShader(m.programs[e],m.shaders[r])},ii=e=>_.disable(e),oi=e=>{_.disableVertexAttribArray(e)},si=(e,r,t)=>{_.drawArrays(e,r,t)},li=(e,r,t,n)=>{_.drawElements(e,r,t,n)},ui=e=>_.enable(e),ci=e=>{_.enableVertexAttribArray(e)},di=(e,r,t,n)=>{_.framebufferRenderbuffer(e,r,t,m.renderbuffers[n])},fi=(e,r,t,n,a)=>{_.framebufferTexture2D(e,r,t,m.textures[n],a)},vi=e=>_.frontFace(e),mi=(e,r)=>{m.genObject(e,r,"createBuffer",m.buffers)},_i=(e,r)=>{m.genObject(e,r,"createFramebuffer",m.framebuffers)},gi=(e,r)=>{m.genObject(e,r,"createRenderbuffer",m.renderbuffers)},hi=(e,r)=>{m.genObject(e,r,"createTexture",m.textures)},wi=(e,r)=>{m.genObject(e,r,"createVertexArray",m.vaos)},pi=(e,r)=>_.getAttribLocation(m.programs[e],q(r)),yi=e=>k[e>>2]+v[e+4>>2]*4294967296,Ei=e=>k[e>>2]+k[e+4>>2]*4294967296,bi=(e,r)=>{k[e>>2]=r;var t=k[e>>2];k[e+4>>2]=(r-t)/4294967296;var n=r>=0?Ei(e):yi(e),a=e>>2;n!=r&&re(`writeI53ToI64() out of range: serialized JS Number ${r} to Wasm heap as bytes lo=${fe(k[a])}, hi=${fe(k[a+1])}, which deserializes back to ${n} instead!`)},ot=()=>{var e=it(_);return e=e.concat(e.map(r=>"GL_"+r)),e},Fi=(e,r,t)=>{if(!r){m.recordError(1281);return}var n=void 0;switch(e){case 36346:n=1;break;case 36344:t!=0&&t!=1&&m.recordError(1280);return;case 34814:case 36345:n=0;break;case 34466:var a=_.getParameter(34467);n=a?a.length:0;break;case 33309:if(m.currentContext.version<2){m.recordError(1282);return}n=ot().length;break;case 33307:case 33308:if(m.currentContext.version<2){m.recordError(1280);return}n=e==33307?3:0;break}if(n===void 0){var i=_.getParameter(e);switch(typeof i){case"number":n=i;break;case"boolean":n=i?1:0;break;case"string":m.recordError(1280);return;case"object":if(i===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{n=0;break}default:{m.recordError(1280);return}}else if(i instanceof Float32Array||i instanceof Uint32Array||i instanceof Int32Array||i instanceof Array){for(var s=0;s<i.length;++s)switch(t){case 0:v[r+s*4>>2]=i[s];break;case 2:N[r+s*4>>2]=i[s];break;case 4:A[r+s]=i[s]?1:0;break}return}else try{n=i.name|0}catch(u){m.recordError(1280),P(`GL_INVALID_ENUM in glGet${t}v: Unknown object returned from WebGL getParameter(${e})! (error: ${u})`);return}break;default:m.recordError(1280),P(`GL_INVALID_ENUM in glGet${t}v: Native code calling glGet${t}v(${e}) and it returns ${i} of type ${typeof i}!`);return}}switch(t){case 1:bi(r,n);break;case 0:v[r>>2]=n;break;case 2:N[r>>2]=n;break;case 4:A[r]=n?1:0;break}},Si=(e,r)=>Fi(e,r,2),xi=(e,r,t,n)=>{var a=_.getFramebufferAttachmentParameter(e,r,t);(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),v[n>>2]=a},ki=(e,r,t,n)=>{var a=_.getProgramInfoLog(m.programs[e]);a===null&&(a="(unknown error)");var i=r>0&&n?H(a,n,r):0;t&&(v[t>>2]=i)},Ci=(e,r,t)=>{if(!t){m.recordError(1281);return}if(e>=m.counter){m.recordError(1281);return}if(e=m.programs[e],r==35716){var n=_.getProgramInfoLog(e);n===null&&(n="(unknown error)"),v[t>>2]=n.length+1}else if(r==35719){if(!e.maxUniformLength)for(var a=_.getProgramParameter(e,35718),i=0;i<a;++i)e.maxUniformLength=Math.max(e.maxUniformLength,_.getActiveUniform(e,i).name.length+1);v[t>>2]=e.maxUniformLength}else if(r==35722){if(!e.maxAttributeLength)for(var s=_.getProgramParameter(e,35721),i=0;i<s;++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,_.getActiveAttrib(e,i).name.length+1);v[t>>2]=e.maxAttributeLength}else if(r==35381){if(!e.maxUniformBlockNameLength)for(var u=_.getProgramParameter(e,35382),i=0;i<u;++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,_.getActiveUniformBlockName(e,i).length+1);v[t>>2]=e.maxUniformBlockNameLength}else v[t>>2]=_.getProgramParameter(e,r)},Ti=(e,r,t,n)=>{var a=_.getShaderInfoLog(m.shaders[e]);a===null&&(a="(unknown error)");var i=r>0&&n?H(a,n,r):0;t&&(v[t>>2]=i)},Di=(e,r,t)=>{if(!t){m.recordError(1281);return}if(r==35716){var n=_.getShaderInfoLog(m.shaders[e]);n===null&&(n="(unknown error)");var a=n?n.length+1:0;v[t>>2]=a}else if(r==35720){var i=_.getShaderSource(m.shaders[e]),s=i?i.length+1:0;v[t>>2]=s}else v[t>>2]=_.getShaderParameter(m.shaders[e],r)},ye=e=>{var r=se(e)+1,t=$(r);return t&&H(e,t,r),t},Ai=e=>{var r=m.stringCache[e];if(!r){switch(e){case 7939:r=ye(ot().join(" "));break;case 7936:case 7937:case 37445:case 37446:var t=_.getParameter(e);t||m.recordError(1280),r=t?ye(t):0;break;case 7938:var n=_.getParameter(7938),a=`OpenGL ES 2.0 (${n})`;m.currentContext.version>=2&&(a=`OpenGL ES 3.0 (${n})`),r=ye(a);break;case 35724:var i=_.getParameter(35724),s=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/,u=i.match(s);u!==null&&(u[1].length==3&&(u[1]=u[1]+"0"),i=`OpenGL ES GLSL ES ${u[1]} (${i})`),r=ye(i);break;default:m.recordError(1280)}m.stringCache[e]=r}return r},Li=e=>parseInt(e),st=e=>e.slice(-1)=="]"&&e.lastIndexOf("["),Mi=e=>{var r=e.uniformLocsById,t=e.uniformSizeAndIdsByName,n,a;if(!r){e.uniformLocsById=r={},e.uniformArrayNamesById={};var i=_.getProgramParameter(e,35718);for(n=0;n<i;++n){var s=_.getActiveUniform(e,n),u=s.name,d=s.size,g=st(u),w=g>0?u.slice(0,g):u,p=e.uniformIdCounter;for(e.uniformIdCounter+=d,t[w]=[d,p],a=0;a<d;++a)r[p]=a,e.uniformArrayNamesById[p++]=w}}},Pi=(e,r)=>{if(r=q(r),e=m.programs[e]){Mi(e);var t=e.uniformLocsById,n=0,a=r,i=st(r);i>0&&(n=Li(r.slice(i+1))>>>0,a=r.slice(0,i));var s=e.uniformSizeAndIdsByName[a];if(s&&n<s[0]&&(n+=s[1],t[n]=t[n]||_.getUniformLocation(e,r)))return n}else m.recordError(1281);return-1},Ri=e=>{e=m.programs[e],_.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},Ii=(e,r)=>{e==3317?m.unpackAlignment=r:e==3314&&(m.unpackRowLength=r),_.pixelStorei(e,r)},Oi=(e,r,t)=>{function n(s,u){return s+u-1&-u}var a=(m.unpackRowLength||e)*t,i=n(a,m.unpackAlignment);return r*i},Bi=e=>{var r={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return r[e-6402]||1},qe=e=>(e-=5120,e==0?A:e==1?K:e==2?ee:e==4?v:e==6?N:e==5||e==28922||e==28520||e==30779||e==30782?k:Rr),Pe=(e,r)=>e>>>31-Math.clz32(r.BYTES_PER_ELEMENT),wr=(e,r,t,n,a,i)=>{var s=qe(e),u=Bi(r)*s.BYTES_PER_ELEMENT,d=Oi(t,n,u);return s.subarray(Pe(a,s),Pe(a+d,s))},Ni=(e,r,t,n,a,i,s)=>{if(m.currentContext.version>=2){if(_.currentPixelPackBufferBinding){_.readPixels(e,r,t,n,a,i,s);return}var u=qe(i),d=Pe(s,u);_.readPixels(e,r,t,n,a,i,u,d);return}var g=wr(i,a,t,n,s,a);if(!g){m.recordError(1280);return}_.readPixels(e,r,t,n,a,i,g)},Ui=(e,r,t,n)=>_.renderbufferStorage(e,r,t,n),Wi=(e,r,t,n)=>{var a=m.getSource(e,r,t,n);_.shaderSource(m.shaders[e],a)},Gi=(e,r,t,n,a,i,s,u,d)=>{if(m.currentContext.version>=2){if(_.currentPixelUnpackBufferBinding){_.texImage2D(e,r,t,n,a,i,s,u,d);return}if(d){var g=qe(u),w=Pe(d,g);_.texImage2D(e,r,t,n,a,i,s,u,g,w);return}}var p=d?wr(u,s,n,a,d,t):null;_.texImage2D(e,r,t,n,a,i,s,u,p)},zi=(e,r,t)=>_.texParameteri(e,r,t),Hi=(e,r,t,n,a,i,s,u,d)=>{if(m.currentContext.version>=2){if(_.currentPixelUnpackBufferBinding){_.texSubImage2D(e,r,t,n,a,i,s,u,d);return}if(d){var g=qe(u);_.texSubImage2D(e,r,t,n,a,i,s,u,g,Pe(d,g));return}}var w=d?wr(u,s,a,i,d,0):null;_.texSubImage2D(e,r,t,n,a,i,s,u,w)},j=e=>{var r=_.currentProgram;if(r){var t=r.uniformLocsById[e];return typeof t=="number"&&(r.uniformLocsById[e]=t=_.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?`[${t}]`:""))),t}else m.recordError(1282)},Ee=[],ji=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform1fv(j(e),N,t>>2,r);return}if(r<=288)for(var n=Ee[r],a=0;a<r;++a)n[a]=N[t+4*a>>2];else var n=N.subarray(t>>2,t+r*4>>2);_.uniform1fv(j(e),n)},Yi=(e,r)=>{_.uniform1i(j(e),r)},Re=[],Xi=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform1iv(j(e),v,t>>2,r);return}if(r<=288)for(var n=Re[r],a=0;a<r;++a)n[a]=v[t+4*a>>2];else var n=v.subarray(t>>2,t+r*4>>2);_.uniform1iv(j(e),n)},qi=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform2fv(j(e),N,t>>2,r*2);return}if(r<=144){r*=2;for(var n=Ee[r],a=0;a<r;a+=2)n[a]=N[t+4*a>>2],n[a+1]=N[t+(4*a+4)>>2]}else var n=N.subarray(t>>2,t+r*8>>2);_.uniform2fv(j(e),n)},$i=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform2iv(j(e),v,t>>2,r*2);return}if(r<=144){r*=2;for(var n=Re[r],a=0;a<r;a+=2)n[a]=v[t+4*a>>2],n[a+1]=v[t+(4*a+4)>>2]}else var n=v.subarray(t>>2,t+r*8>>2);_.uniform2iv(j(e),n)},Vi=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform3fv(j(e),N,t>>2,r*3);return}if(r<=96){r*=3;for(var n=Ee[r],a=0;a<r;a+=3)n[a]=N[t+4*a>>2],n[a+1]=N[t+(4*a+4)>>2],n[a+2]=N[t+(4*a+8)>>2]}else var n=N.subarray(t>>2,t+r*12>>2);_.uniform3fv(j(e),n)},Ki=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform3iv(j(e),v,t>>2,r*3);return}if(r<=96){r*=3;for(var n=Re[r],a=0;a<r;a+=3)n[a]=v[t+4*a>>2],n[a+1]=v[t+(4*a+4)>>2],n[a+2]=v[t+(4*a+8)>>2]}else var n=v.subarray(t>>2,t+r*12>>2);_.uniform3iv(j(e),n)},Ji=(e,r,t,n,a)=>{_.uniform4f(j(e),r,t,n,a)},Qi=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform4fv(j(e),N,t>>2,r*4);return}if(r<=72){var n=Ee[4*r],a=N;t=t>>2,r*=4;for(var i=0;i<r;i+=4){var s=t+i;n[i]=a[s],n[i+1]=a[s+1],n[i+2]=a[s+2],n[i+3]=a[s+3]}}else var n=N.subarray(t>>2,t+r*16>>2);_.uniform4fv(j(e),n)},Zi=(e,r,t)=>{if(m.currentContext.version>=2){r&&_.uniform4iv(j(e),v,t>>2,r*4);return}if(r<=72){r*=4;for(var n=Re[r],a=0;a<r;a+=4)n[a]=v[t+4*a>>2],n[a+1]=v[t+(4*a+4)>>2],n[a+2]=v[t+(4*a+8)>>2],n[a+3]=v[t+(4*a+12)>>2]}else var n=v.subarray(t>>2,t+r*16>>2);_.uniform4iv(j(e),n)},eo=(e,r,t,n)=>{if(m.currentContext.version>=2){r&&_.uniformMatrix4fv(j(e),!!t,N,n>>2,r*16);return}if(r<=18){var a=Ee[16*r],i=N;n=n>>2,r*=16;for(var s=0;s<r;s+=16){var u=n+s;a[s]=i[u],a[s+1]=i[u+1],a[s+2]=i[u+2],a[s+3]=i[u+3],a[s+4]=i[u+4],a[s+5]=i[u+5],a[s+6]=i[u+6],a[s+7]=i[u+7],a[s+8]=i[u+8],a[s+9]=i[u+9],a[s+10]=i[u+10],a[s+11]=i[u+11],a[s+12]=i[u+12],a[s+13]=i[u+13],a[s+14]=i[u+14],a[s+15]=i[u+15]}}else var a=N.subarray(n>>2,n+r*64>>2);_.uniformMatrix4fv(j(e),!!t,a)},ro=e=>{e=m.programs[e],_.useProgram(e),_.currentProgram=e},to=(e,r,t,n,a,i)=>{_.vertexAttribPointer(e,r,t,!!n,a,i)},no=(e,r,t,n)=>_.viewport(e,r,t,n);function ao(e,r,t,n,a,i,s,u){this.id=e,this.x=0,this.y=0,this.fullscreen=!1,this.storedX=0,this.storedY=0,this.width=r,this.height=t,this.framebufferWidth=n,this.framebufferHeight=a,this.storedWidth=r,this.storedHeight=t,this.title=i,this.monitor=s,this.share=u,this.attributes={...l.hints},this.inputModes={208897:212993,208898:0,208899:0},this.buttons=0,this.keys=new Array,this.domKeys=new Array,this.shouldClose=0,this.title=null,this.windowPosFunc=0,this.windowSizeFunc=0,this.windowCloseFunc=0,this.windowRefreshFunc=0,this.windowFocusFunc=0,this.windowIconifyFunc=0,this.windowMaximizeFunc=0,this.framebufferSizeFunc=0,this.windowContentScaleFunc=0,this.mouseButtonFunc=0,this.cursorPosFunc=0,this.cursorEnterFunc=0,this.scrollFunc=0,this.dropFunc=0,this.keyFunc=0,this.charFunc=0,this.userptr=0}var pr=(e,r)=>{if(E.timingMode=e,E.timingValue=r,!E.func)return P("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(E.running||(_r(),E.running=!0),e==0)E.scheduler=function(){var s=Math.max(0,E.tickStartTime+r-Le())|0;setTimeout(E.runner,s)},E.method="timeout";else if(e==1)E.scheduler=function(){E.requestAnimationFrame(E.runner)},E.method="rAF";else if(e==2){if(typeof E.setImmediate>"u")if(typeof setImmediate>"u"){var t=[],n="setimmediate",a=i=>{(i.data===n||i.data.target===n)&&(i.stopPropagation(),t.shift()())};addEventListener("message",a,!0),E.setImmediate=(i=>{t.push(i),me?(c.setImmediates??=[],c.setImmediates.push(i),postMessage({target:n})):postMessage(n,"*")})}else E.setImmediate=setImmediate;E.scheduler=function(){E.setImmediate(E.runner)},E.method="immediate"}return 0},io=(e,r,t,n,a)=>{y(!E.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),E.func=e,E.arg=n;var i=E.currentlyRunningMainloop;function s(){return i<E.currentlyRunningMainloop?(gr(),tt(),!1):!0}if(E.running=!1,E.runner=function(){if(!Z){if(E.queue.length>0){var d=Date.now(),g=E.queue.shift();if(g.func(g.arg),E.remainingBlockers){var w=E.remainingBlockers,p=w%1==0?w-1:Math.floor(w);g.counted?E.remainingBlockers=p:(p=p+.5,E.remainingBlockers=(8*w+p)/9)}if(E.updateStatus(),!s())return;setTimeout(E.runner,0);return}if(s()){if(E.currentFrameNumber=E.currentFrameNumber+1|0,E.timingMode==1&&E.timingValue>1&&E.currentFrameNumber%E.timingValue!=0){E.scheduler();return}else E.timingMode==0&&(E.tickStartTime=Le());E.method==="timeout"&&c.ctx&&(re("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),E.method=""),E.runIter(e),s()&&E.scheduler()}}},a||(r>0?pr(0,1e3/r):pr(1,1),E.scheduler()),t)throw"unwind"},E={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){E.scheduler=null,E.currentlyRunningMainloop++},resume(){E.currentlyRunningMainloop++;var e=E.timingMode,r=E.timingValue,t=E.func;E.func=null,io(t,0,!1,E.arg,!0),pr(e,r),E.scheduler()},updateStatus(){if(c.setStatus){var e=c.statusMessage||"Please wait...",r=E.remainingBlockers??0,t=E.expectedBlockers??0;r?r<t?c.setStatus("{message} ({expected - remaining}/{expected})"):c.setStatus(e):c.setStatus("")}},init(){c.preMainLoop&&E.preMainLoop.push(c.preMainLoop),c.postMainLoop&&E.postMainLoop.push(c.postMainLoop)},runIter(e){if(!Z){for(var r of E.preMainLoop)if(r()===!1)return;mr(e);for(var t of E.postMainLoop)t();ce()}},nextRAF:0,fakeRequestAnimationFrame(e){var r=Date.now();if(E.nextRAF===0)E.nextRAF=r+1e3/60;else for(;r+2>=E.nextRAF;)E.nextRAF+=1e3/60;var t=Math.max(E.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var r=E.fakeRequestAnimationFrame;r(e)}},l={WindowFromId:e=>e<=0||!l.windows?null:l.windows[e-1],joystickFunc:0,errorFunc:0,monitorFunc:0,active:null,scale:null,windows:null,monitors:null,monitorString:null,versionString:null,initialTime:null,extensions:null,devicePixelRatioMQL:null,hints:null,primaryTouchId:null,defaultHints:{131073:0,131074:0,131075:1,131076:1,131077:1,131082:0,135169:8,135170:8,135171:8,135172:8,135173:24,135174:8,135175:0,135176:0,135177:0,135178:0,135179:0,135180:0,135181:0,135182:0,135183:0,139265:196609,139266:1,139267:0,139268:0,139269:0,139270:0,139271:0,139272:0,139276:0},DOMToGLFWKeyCode:e=>{switch(e){case 32:return 32;case 222:return 39;case 188:return 44;case 173:return 45;case 189:return 45;case 190:return 46;case 191:return 47;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 59:return 59;case 61:return 61;case 187:return 61;case 65:return 65;case 66:return 66;case 67:return 67;case 68:return 68;case 69:return 69;case 70:return 70;case 71:return 71;case 72:return 72;case 73:return 73;case 74:return 74;case 75:return 75;case 76:return 76;case 77:return 77;case 78:return 78;case 79:return 79;case 80:return 80;case 81:return 81;case 82:return 82;case 83:return 83;case 84:return 84;case 85:return 85;case 86:return 86;case 87:return 87;case 88:return 88;case 89:return 89;case 90:return 90;case 219:return 91;case 220:return 92;case 221:return 93;case 192:return 96;case 27:return 256;case 13:return 257;case 9:return 258;case 8:return 259;case 45:return 260;case 46:return 261;case 39:return 262;case 37:return 263;case 40:return 264;case 38:return 265;case 33:return 266;case 34:return 267;case 36:return 268;case 35:return 269;case 20:return 280;case 145:return 281;case 144:return 282;case 44:return 283;case 19:return 284;case 112:return 290;case 113:return 291;case 114:return 292;case 115:return 293;case 116:return 294;case 117:return 295;case 118:return 296;case 119:return 297;case 120:return 298;case 121:return 299;case 122:return 300;case 123:return 301;case 124:return 302;case 125:return 303;case 126:return 304;case 127:return 305;case 128:return 306;case 129:return 307;case 130:return 308;case 131:return 309;case 132:return 310;case 133:return 311;case 134:return 312;case 135:return 313;case 136:return 314;case 96:return 320;case 97:return 321;case 98:return 322;case 99:return 323;case 100:return 324;case 101:return 325;case 102:return 326;case 103:return 327;case 104:return 328;case 105:return 329;case 110:return 330;case 111:return 331;case 106:return 332;case 109:return 333;case 107:return 334;case 16:return 340;case 17:return 341;case 18:return 342;case 91:return 343;case 224:return 343;case 93:return 348;default:return-1}},getModBits:e=>{var r=0;return e.keys[340]&&(r|=1),e.keys[341]&&(r|=2),e.keys[342]&&(r|=4),(e.keys[343]||e.keys[348])&&(r|=8),r},onKeyPress:e=>{if(!(!l.active||!l.active.charFunc)&&!(e.ctrlKey||e.metaKey)){var r=e.charCode;r==0||r>=0&&r<=31||((t,n)=>be(l.active.charFunc,t,n))(l.active.id,r)}},onKeyChanged:(e,r)=>{if(l.active){var t=l.DOMToGLFWKeyCode(e);if(t!=-1){var n=r&&l.active.keys[t];l.active.keys[t]=r,l.active.domKeys[e]=r,l.active.keyFunc&&(n&&(r=2),((a,i,s,u,d)=>bt(l.active.keyFunc,a,i,s,u,d))(l.active.id,t,e,r,l.getModBits(l.active)))}}},onGamepadConnected:e=>{l.refreshJoysticks()},onGamepadDisconnected:e=>{l.refreshJoysticks()},onKeydown:e=>{l.onKeyChanged(e.keyCode,1),(e.key=="Backspace"||e.key=="Tab")&&e.preventDefault()},onKeyup:e=>{l.onKeyChanged(e.keyCode,0)},onBlur:e=>{if(l.active)for(var r=0;r<l.active.domKeys.length;++r)l.active.domKeys[r]&&l.onKeyChanged(r,0)},onMousemove:e=>{if(l.active){if(e.type==="touchmove"){e.preventDefault();let r=!1;for(let t of e.changedTouches)if(l.primaryTouchId===t.identifier){f.setMouseCoords(t.pageX,t.pageY),r=!0;break}if(!r)return}else f.calculateMouseEvent(e);e.target!=f.getCanvas()||!l.active.cursorPosFunc||l.active.cursorPosFunc&&((r,t,n)=>br(l.active.cursorPosFunc,r,t,n))(l.active.id,f.mouseX,f.mouseY)}},DOMToGLFWMouseButton:e=>{var r=e.button;return r>0&&(r==1?r=2:r=1),r},onMouseenter:e=>{l.active&&e.target==f.getCanvas()&&l.active.cursorEnterFunc&&((r,t)=>be(l.active.cursorEnterFunc,r,t))(l.active.id,1)},onMouseleave:e=>{l.active&&e.target==f.getCanvas()&&l.active.cursorEnterFunc&&((r,t)=>be(l.active.cursorEnterFunc,r,t))(l.active.id,0)},onMouseButtonChanged:(e,r)=>{if(!l.active||e.target!=f.getCanvas())return;const t=e.type==="touchstart"||e.type==="touchend"||e.type==="touchcancel";let n=0;if(t){e.preventDefault();let a=!1;if(l.primaryTouchId===null&&e.type==="touchstart"&&e.targetTouches.length>0){const i=e.targetTouches[0];l.primaryTouchId=i.identifier,f.setMouseCoords(i.pageX,i.pageY),a=!0}else if(e.type==="touchend"||e.type==="touchcancel"){for(let i of e.changedTouches)if(l.primaryTouchId===i.identifier){l.primaryTouchId=null,a=!0;break}}if(!a)return}else f.calculateMouseEvent(e),n=l.DOMToGLFWMouseButton(e);if(r==1){l.active.buttons|=1<<n;try{e.target.setCapture()}catch{}}else l.active.buttons&=~(1<<n);l.active.mouseButtonFunc&&((a,i,s,u)=>Ft(l.active.mouseButtonFunc,a,i,s,u))(l.active.id,n,r,l.getModBits(l.active))},onMouseButtonDown:e=>{l.active&&l.onMouseButtonChanged(e,1)},onMouseButtonUp:e=>{l.active&&l.onMouseButtonChanged(e,0)},onMouseWheel:e=>{var r=-f.getMouseWheelDelta(e);if(r=r==0?0:r>0?Math.max(r,1):Math.min(r,-1),l.wheelPos+=r,!(!l.active||!l.active.scrollFunc||e.target!=f.getCanvas())){var t=0,n=r;e.type=="mousewheel"?t=e.wheelDeltaX:t=e.deltaX,((a,i,s)=>br(l.active.scrollFunc,a,i,s))(l.active.id,t,n),e.preventDefault()}},onCanvasResize:(e,r,t,n)=>{if(l.active){var a=!1;document.fullscreen||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?l.active.fullscreen||(a=e!=screen.width||r!=screen.height,l.active.storedX=l.active.x,l.active.storedY=l.active.y,l.active.storedWidth=l.active.width,l.active.storedHeight=l.active.height,l.active.x=l.active.y=0,l.active.width=screen.width,l.active.height=screen.height,l.active.fullscreen=!0):l.active.fullscreen==!0&&(a=e!=l.active.storedWidth||r!=l.active.storedHeight,l.active.x=l.active.storedX,l.active.y=l.active.storedY,l.active.width=l.active.storedWidth,l.active.height=l.active.storedHeight,l.active.fullscreen=!1),a?f.setCanvasSize(l.active.width,l.active.height):(l.active.width!=e||l.active.height!=r||l.active.framebufferWidth!=t||l.active.framebufferHeight!=n)&&(l.active.width=e,l.active.height=r,l.active.framebufferWidth=t,l.active.framebufferHeight=n,l.onWindowSizeChanged(),l.onFramebufferSizeChanged())}},onWindowSizeChanged:()=>{l.active&&l.active.windowSizeFunc&&((e,r,t)=>Ve(l.active.windowSizeFunc,e,r,t))(l.active.id,l.active.width,l.active.height)},onFramebufferSizeChanged:()=>{l.active&&l.active.framebufferSizeFunc&&((e,r,t)=>Ve(l.active.framebufferSizeFunc,e,r,t))(l.active.id,l.active.framebufferWidth,l.active.framebufferHeight)},onWindowContentScaleChanged:e=>{l.scale=e,l.active&&l.active.windowContentScaleFunc&&((r,t,n)=>Et(l.active.windowContentScaleFunc,r,t,n))(l.active.id,l.scale,l.scale)},getTime:()=>Le()/1e3,setWindowTitle:(e,r)=>{var t=l.WindowFromId(e);t&&(t.title=r,l.active.id==t.id&&nt(r))},setJoystickCallback:e=>{var r=l.joystickFunc;return l.joystickFunc=e,l.refreshJoysticks(),r},joys:{},lastGamepadState:[],lastGamepadStateFrame:null,refreshJoysticks:()=>{if(E.currentFrameNumber!==l.lastGamepadStateFrame||!E.currentFrameNumber){l.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads||[],l.lastGamepadStateFrame=E.currentFrameNumber;for(var e=0;e<l.lastGamepadState.length;++e){var r=l.lastGamepadState[e];if(r){l.joys[e]||(ue("glfw joystick connected:",e),l.joys[e]={id:ye(r.id),buttonsCount:r.buttons.length,axesCount:r.axes.length,buttons:$(r.buttons.length),axes:$(r.axes.length*4)},l.joystickFunc&&((a,i)=>be(l.joystickFunc,a,i))(e,262145));for(var t=l.joys[e],n=0;n<r.buttons.length;++n)A[t.buttons+n]=r.buttons[n].pressed;for(var n=0;n<r.axes.length;++n)N[t.axes+n*4>>2]=r.axes[n]}else l.joys[e]&&(ue("glfw joystick disconnected",e),l.joystickFunc&&((a,i)=>be(l.joystickFunc,a,i))(e,262146),ve(l.joys[e].id),ve(l.joys[e].buttons),ve(l.joys[e].axes),delete l.joys[e])}}},setKeyCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.keyFunc;return t.keyFunc=r,n},setCharCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.charFunc;return t.charFunc=r,n},setMouseButtonCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.mouseButtonFunc;return t.mouseButtonFunc=r,n},setCursorPosCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.cursorPosFunc;return t.cursorPosFunc=r,n},setScrollCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.scrollFunc;return t.scrollFunc=r,n},setDropCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.dropFunc;return t.dropFunc=r,n},onDrop:e=>{if(!l.active||!l.active.dropFunc||!e.dataTransfer||!e.dataTransfer.files||e.dataTransfer.files.length==0)return;e.preventDefault();var r=$(e.dataTransfer.files.length*4),t=[],n=e.dataTransfer.files.length,a=0,i=".glfw_dropped_files";o.createPath("/",i);function s(d){var g="/"+i+"/"+d.name.replace(/\//g,"_"),w=new FileReader;w.onloadend=h=>{if(w.readyState!=2){++a,ue("failed to read dropped file: "+d.name+": "+w.error);return}var b=h.target.result;if(o.writeFile(g,new Uint8Array(b)),++a===n){((M,B,T)=>Ve(l.active.dropFunc,M,B,T))(l.active.id,n,r);for(var x=0;x<t.length;++x)ve(t[x]);ve(r)}},w.readAsArrayBuffer(d);var p=ye(g);t.push(p),k[r+u*4>>2]=p}for(var u=0;u<n;++u)s(e.dataTransfer.files[u]);return!1},onDragover:e=>{if(!(!l.active||!l.active.dropFunc))return e.preventDefault(),!1},setWindowSizeCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowSizeFunc;return t.windowSizeFunc=r,n},setWindowCloseCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowCloseFunc;return t.windowCloseFunc=r,n},setWindowRefreshCallback:(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowRefreshFunc;return t.windowRefreshFunc=r,n},onClickRequestPointerLock:e=>{var r=f.getCanvas();!f.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())},setInputMode:(e,r,t)=>{var n=l.WindowFromId(e);if(n)switch(r){case 208897:{var a=f.getCanvas();switch(t){case 212993:{n.inputModes[r]=t,a.removeEventListener("click",l.onClickRequestPointerLock,!0),document.exitPointerLock();break}case 212994:{P("glfwSetInputMode called with GLFW_CURSOR_HIDDEN value not implemented");break}case 212995:{n.inputModes[r]=t,a.addEventListener("click",l.onClickRequestPointerLock,!0),a.requestPointerLock();break}default:{P(`glfwSetInputMode called with unknown value parameter value: ${t}`);break}}break}case 208898:{P("glfwSetInputMode called with GLFW_STICKY_KEYS mode not implemented");break}case 208899:{P("glfwSetInputMode called with GLFW_STICKY_MOUSE_BUTTONS mode not implemented");break}case 208900:{P("glfwSetInputMode called with GLFW_LOCK_KEY_MODS mode not implemented");break}case 3342341:{P("glfwSetInputMode called with GLFW_RAW_MOUSE_MOTION mode not implemented");break}default:{P(`glfwSetInputMode called with unknown mode parameter value: ${r}`);break}}},getKey:(e,r)=>{var t=l.WindowFromId(e);return t?t.keys[r]:0},getMouseButton:(e,r)=>{var t=l.WindowFromId(e);return t?(t.buttons&1<<r)>0:0},getCursorPos:(e,r,t)=>{V[r>>3]=f.mouseX,V[t>>3]=f.mouseY},getMousePos:(e,r,t)=>{v[r>>2]=f.mouseX,v[t>>2]=f.mouseY},setCursorPos:(e,r,t)=>{},getWindowPos:(e,r,t)=>{var n=0,a=0,i=l.WindowFromId(e);i&&(n=i.x,a=i.y),r&&(v[r>>2]=n),t&&(v[t>>2]=a)},setWindowPos:(e,r,t)=>{var n=l.WindowFromId(e);n&&(n.x=r,n.y=t)},getWindowSize:(e,r,t)=>{var n=0,a=0,i=l.WindowFromId(e);i&&(n=i.width,a=i.height),r&&(v[r>>2]=n),t&&(v[t>>2]=a)},setWindowSize:(e,r,t)=>{var n=l.WindowFromId(e);n&&l.active.id==n.id&&f.setCanvasSize(r,t)},defaultWindowHints:()=>{l.hints={...l.defaultHints}},createWindow:(e,r,t,n,a)=>{var i,s;for(i=0;i<l.windows.length&&l.windows[i]!==null;i++);if(i>0)throw"glfwCreateWindow only supports one window at time currently";if(s=i+1,e<=0||r<=0)return 0;for(n?f.requestFullscreen():f.setCanvasSize(e,r),i=0;i<l.windows.length&&l.windows[i]==null;i++);const u=f.getCanvas();var d=l.hints[139265]>0;if(i==l.windows.length)if(d){var g={antialias:l.hints[135181]>1,depth:l.hints[135173]>0,stencil:l.hints[135174]>0,alpha:l.hints[135172]>0};f.createContext(u,!0,!0,g)}else f.init();if(!c.ctx&&d)return 0;var w=new ao(s,e,r,u.width,u.height,t,n,a);return s-1==l.windows.length?l.windows.push(w):l.windows[s-1]=w,l.active=w,l.adjustCanvasDimensions(),w.id},destroyWindow:e=>{var r=l.WindowFromId(e);if(r){r.windowCloseFunc&&(t=>yt(r.windowCloseFunc,t))(r.id),l.windows[r.id-1]=null,l.active.id==r.id&&(l.active=null);for(r of l.windows)if(r!==null)return;delete c.ctx}},swapBuffers:e=>{},requestFullscreen(e,r){f.lockPointer=e,f.resizeCanvas=r,typeof f.lockPointer>"u"&&(f.lockPointer=!0),typeof f.resizeCanvas>"u"&&(f.resizeCanvas=!1);var t=f.getCanvas();function n(){f.isFullscreen=!1;var i=t.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===i?(t.exitFullscreen=f.exitFullscreen,f.lockPointer&&t.requestPointerLock(),f.isFullscreen=!0,f.resizeCanvas?f.setFullscreenCanvasSize():(f.updateCanvasDimensions(t),f.updateResizeListeners())):(i.parentNode.insertBefore(t,i),i.parentNode.removeChild(i),f.resizeCanvas?f.setWindowedCanvasSize():(f.updateCanvasDimensions(t),f.updateResizeListeners())),c.onFullScreen?.(f.isFullscreen),c.onFullscreen?.(f.isFullscreen)}f.fullscreenHandlersInstalled||(f.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var a=document.createElement("div");t.parentNode.insertBefore(a,t),a.appendChild(t),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},updateCanvasDimensions(e,r,t){const n=l.getHiDPIScale();r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var a=r,i=t;if(c.forcedAspectRatio&&c.forcedAspectRatio>0&&(a/i<c.forcedAspectRatio?a=Math.round(i*c.forcedAspectRatio):i=Math.round(a/c.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var s=Math.min(screen.width/a,screen.height/i);a=Math.round(a*s),i=Math.round(i*s)}f.resizeCanvas&&(r=a,t=i);const u=Math.floor(r*n),d=Math.floor(t*n);e.width!=u&&(e.width=u),e.height!=d&&(e.height=d),typeof e.style<"u"&&(l.isCSSScalingEnabled()?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",t+"px","important")))},calculateMouseCoords(e,r){const t=f.getCanvas().getBoundingClientRect();var n=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,a=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;y(typeof n<"u"&&typeof a<"u","Unable to retrieve scroll position, mouse positions likely broken.");var i=e-(n+t.left),s=r-(a+t.top);return l.isCSSScalingEnabled()&&l.active&&(i=i*(l.active.width/t.width),s=s*(l.active.height/t.height)),{x:i,y:s}},setWindowAttrib:(e,r,t)=>{var n=l.WindowFromId(e);if(!n)return;const a=l.isHiDPIAware();n.attributes[r]=t,a!==l.isHiDPIAware()&&l.adjustCanvasDimensions()},getDevicePixelRatio(){return typeof devicePixelRatio=="number"&&devicePixelRatio||1},isHiDPIAware(){return l.active?l.active.attributes[139276]>0:!1},isCSSScalingEnabled(){return!l.isHiDPIAware()},adjustCanvasDimensions(){l.active&&(f.updateCanvasDimensions(f.getCanvas(),l.active.width,l.active.height),f.updateResizeListeners())},getHiDPIScale(){return l.isHiDPIAware()?l.scale:1},onDevicePixelRatioChange(){l.onWindowContentScaleChanged(l.getDevicePixelRatio()),l.adjustCanvasDimensions()},GLFW2ParamToGLFW3Param:e=>{var r={196609:0,196610:0,196611:0,196612:0,196613:0,196614:0,131073:0,131074:0,131075:0,131076:0,131077:135169,131078:135170,131079:135171,131080:135172,131081:135173,131082:135174,131083:135183,131084:135175,131085:135176,131086:135177,131087:135178,131088:135179,131089:135180,131090:0,131091:135181,131092:139266,131093:139267,131094:139270,131095:139271,131096:139272};return r[e]}},oo=(e,r,t,n,a)=>l.createWindow(e,r,t,n,a),so=()=>l.defaultWindowHints(),lo=e=>l.destroyWindow(e),uo=()=>1,co=()=>l.getTime()-l.initialTime,fo=(e,r)=>(v[r>>2]=0,0),vo=()=>{if(l.windows)return 1;l.initialTime=l.getTime(),l.defaultWindowHints(),l.windows=new Array,l.active=null,l.scale=l.getDevicePixelRatio(),window.addEventListener("gamepadconnected",l.onGamepadConnected,!0),window.addEventListener("gamepaddisconnected",l.onGamepadDisconnected,!0),f.getCanvas().addEventListener("keydown",l.onKeydown,!0),f.getCanvas().addEventListener("keypress",l.onKeyPress,!0),f.getCanvas().addEventListener("keyup",l.onKeyup,!0),window.addEventListener("blur",l.onBlur,!0),l.devicePixelRatioMQL=window.matchMedia("(resolution: "+l.getDevicePixelRatio()+"dppx)"),l.devicePixelRatioMQL.addEventListener("change",l.onDevicePixelRatioChange);var e=f.getCanvas();return e.addEventListener("touchmove",l.onMousemove,!0),e.addEventListener("touchstart",l.onMouseButtonDown,!0),e.addEventListener("touchcancel",l.onMouseButtonUp,!0),e.addEventListener("touchend",l.onMouseButtonUp,!0),e.addEventListener("mousemove",l.onMousemove,!0),e.addEventListener("mousedown",l.onMouseButtonDown,!0),e.addEventListener("mouseup",l.onMouseButtonUp,!0),e.addEventListener("wheel",l.onMouseWheel,!0),e.addEventListener("mousewheel",l.onMouseWheel,!0),e.addEventListener("mouseenter",l.onMouseenter,!0),e.addEventListener("mouseleave",l.onMouseleave,!0),e.addEventListener("drop",l.onDrop,!0),e.addEventListener("dragover",l.onDragover,!0),f.requestFullscreen=l.requestFullscreen,f.calculateMouseCoords=l.calculateMouseCoords,f.updateCanvasDimensions=l.updateCanvasDimensions,f.resizeListeners.push((r,t)=>{if(l.isHiDPIAware()){var n=f.getCanvas();l.onCanvasResize(n.clientWidth,n.clientHeight,r,t)}else l.onCanvasResize(r,t,r,t)}),1},mo=e=>0,_o=(e,r)=>l.setCharCallback(e,r),go=(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.cursorEnterFunc;return t.cursorEnterFunc=r,n},ho=(e,r)=>l.setCursorPosCallback(e,r),wo=(e,r)=>l.setDropCallback(e,r),po=e=>{var r=l.errorFunc;return l.errorFunc=e,r},yo=(e,r)=>l.setKeyCallback(e,r),Eo=(e,r)=>l.setMouseButtonCallback(e,r),bo=(e,r)=>l.setScrollCallback(e,r),Fo=(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowContentScaleFunc;return t.windowContentScaleFunc=r,n},So=(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowFocusFunc;return t.windowFocusFunc=r,n},xo=(e,r)=>{var t=l.WindowFromId(e);if(!t)return null;var n=t.windowIconifyFunc;return t.windowIconifyFunc=r,n},ko=(e,r)=>{var t=l.WindowFromId(e);t&&(t.shouldClose=r)},Co=(e,r)=>l.setWindowSizeCallback(e,r),To=e=>l.swapBuffers(e),Do=()=>{window.removeEventListener("gamepadconnected",l.onGamepadConnected,!0),window.removeEventListener("gamepaddisconnected",l.onGamepadDisconnected,!0),window.removeEventListener("keydown",l.onKeydown,!0),window.removeEventListener("keypress",l.onKeyPress,!0),window.removeEventListener("keyup",l.onKeyup,!0),window.removeEventListener("blur",l.onBlur,!0);var e=f.getCanvas();e.removeEventListener("touchmove",l.onMousemove,!0),e.removeEventListener("touchstart",l.onMouseButtonDown,!0),e.removeEventListener("touchcancel",l.onMouseButtonUp,!0),e.removeEventListener("touchend",l.onMouseButtonUp,!0),e.removeEventListener("mousemove",l.onMousemove,!0),e.removeEventListener("mousedown",l.onMouseButtonDown,!0),e.removeEventListener("mouseup",l.onMouseButtonUp,!0),e.removeEventListener("wheel",l.onMouseWheel,!0),e.removeEventListener("mousewheel",l.onMouseWheel,!0),e.removeEventListener("mouseenter",l.onMouseenter,!0),e.removeEventListener("mouseleave",l.onMouseleave,!0),e.removeEventListener("drop",l.onDrop,!0),e.removeEventListener("dragover",l.onDragover,!0),l.devicePixelRatioMQL&&l.devicePixelRatioMQL.removeEventListener("change",l.onDevicePixelRatioChange),e.width=e.height=1,l.windows=null,l.active=null},Ao=(e,r)=>{l.hints[e]=r},lt=e=>pt(e),Lo=e=>{var r=se(e)+1,t=lt(r);return H(e,t,r),t},$e=e=>{try{return e()}catch(r){W(r)}},S={instrumentWasmImports(e){var r=/^(invoke_.*|__asyncjs__.*)$/;for(let[t,n]of Object.entries(e))if(typeof n=="function"){let a=n.isAsync||r.test(t);e[t]=(...i)=>{var s=S.state;try{return n(...i)}finally{var u=s===S.State.Normal&&S.state===S.State.Disabled,d=t.startsWith("invoke_")&&!0;if(S.state!==s&&!a&&!u&&!d)throw new Error(`import ${t} was not in ASYNCIFY_IMPORTS, but changed the state`)}}}},instrumentFunction(e){var r=(...t)=>{S.exportCallStack.push(e);try{return e(...t)}finally{if(!Z){var n=S.exportCallStack.pop();y(n===e),S.maybeStopUnwind()}}};return S.funcWrappers.set(e,r),r},instrumentWasmExports(e){var r={};for(let[n,a]of Object.entries(e))if(typeof a=="function"){var t=S.instrumentFunction(a);r[n]=t}else r[n]=a;return r},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callstackFuncToId:new Map,callStackIdToFunc:new Map,funcWrappers:new Map,callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(e){if(y(e),!S.callstackFuncToId.has(e)){var r=S.callStackId++;S.callstackFuncToId.set(e,r),S.callStackIdToFunc.set(r,e)}return S.callstackFuncToId.get(e)},maybeStopUnwind(){S.currData&&S.state===S.State.Unwinding&&S.exportCallStack.length===0&&(S.state=S.State.Normal,_r(),$e(xt),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return y(S.currData,"Tried to wait for an async operation when none is in progress."),y(!S.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((e,r)=>{S.asyncPromiseHandlers={resolve:e,reject:r}})},allocateData(){var e=$(12+S.StackSize);return S.setDataHeader(e,e+12,S.StackSize),S.setDataRewindFunc(e),e},setDataHeader(e,r,t){k[e>>2]=r,k[e+4>>2]=r+t},setDataRewindFunc(e){var r=S.exportCallStack[0];y(r,"exportCallStack is empty");var t=S.getCallStackId(r);v[e+8>>2]=t},getDataRewindFunc(e){var r=v[e+8>>2],t=S.callStackIdToFunc.get(r);return y(t,`id ${r} not found in callStackIdToFunc`),t},doRewind(e){var r=S.getDataRewindFunc(e),t=S.funcWrappers.get(r);return y(r),y(t),gr(),t()},handleSleep(e){if(y(S.state!==S.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!Z){if(S.state===S.State.Normal){var r=!1,t=!1;e((n=0)=>{if(y(!n||typeof n=="number"||typeof n=="boolean"),!Z&&(S.handleSleepReturnValue=n,r=!0,!!t)){y(!S.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),S.state=S.State.Rewinding,$e(()=>kt(S.currData)),typeof E<"u"&&E.func&&E.resume();var a,i=!1;try{a=S.doRewind(S.currData)}catch(d){a=d,i=!0}var s=!1;if(!S.currData){var u=S.asyncPromiseHandlers;u&&(S.asyncPromiseHandlers=null,(i?u.reject:u.resolve)(a),s=!0)}if(i&&!s)throw a}}),t=!0,r||(S.state=S.State.Unwinding,S.currData=S.allocateData(),typeof E<"u"&&E.func&&E.pause(),$e(()=>St(S.currData)))}else S.state===S.State.Rewinding?(S.state=S.State.Normal,$e(Ct),ve(S.currData),S.currData=null,S.sleepCallbacks.forEach(mr)):W(`invalid state: ${S.state}`);return S.handleSleepReturnValue}},handleAsync:e=>S.handleSleep(r=>{e().then(r)})},Mo=(...e)=>o.createPath(...e),Po=(...e)=>o.unlink(...e),Ro=(...e)=>o.createLazyFile(...e),Io=(...e)=>o.createDevice(...e);o.createPreloadedFile=Hr,o.staticInit();for(var Oo=new Float32Array(288),ae=0;ae<=288;++ae)Ee[ae]=Oo.subarray(0,ae);for(var Bo=new Int32Array(288),ae=0;ae<=288;++ae)Re[ae]=Bo.subarray(0,ae);c.requestAnimationFrame=E.requestAnimationFrame,c.pauseMainLoop=E.pause,c.resumeMainLoop=E.resume,E.init(),c.noExitRuntime&&(Br=c.noExitRuntime),c.preloadPlugins&&(Ge=c.preloadPlugins),c.print&&(ue=c.print),c.printErr&&(P=c.printErr),c.wasmBinary&&(xe=c.wasmBinary),Wo(),c.arguments&&(Ze=c.arguments),c.thisProgram&&(er=c.thisProgram),y(typeof c.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),y(typeof c.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),y(typeof c.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),y(typeof c.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),y(typeof c.read>"u","Module.read option was removed"),y(typeof c.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),y(typeof c.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),y(typeof c.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),y(typeof c.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),y(typeof c.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),y(typeof c.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),y(typeof c.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),y(typeof c.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),c.addRunDependency=ir,c.removeRunDependency=Ue,c.setValue=Jt,c.getValue=Kt,c.PATH=O,c.FS_createPreloadedFile=Hr,c.FS_unlink=Po,c.FS_createPath=Mo,c.FS_createDevice=Io,c.FS=o,c.FS_createDataFile=zr,c.FS_createLazyFile=Ro;var No=["writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","setTempRet0","zeroMemory","getHeapMax","growMemory","withStackSave","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","runMainThreadEmAsm","getExecutableName","autoResumeAudioContext","getDynCaller","asmjsMangle","alignMemory","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","writeArrayToMemory","registerKeyEventCallback","registerWheelEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","registerPointerlockErrorEventCallback","requestPointerLock","registerBeforeUnloadEventCallback","fillBatteryEventData","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","emscriptenWebGLGetUniform","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","emscriptenWebGLGetIndexed","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace"];No.forEach(Mt);var Uo=["run","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","writeI53ToI64","readI53FromI64","readI53FromU64","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","ptrToString","exitJS","abortOnCannotGrowMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","jstoi_q","dynCallLegacy","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asyncLoad","mmapAlloc","wasmTable","getUniqueRunDependency","noExitRuntime","addOnPreRun","addOnExit","addOnPostRun","freeTableIndexes","functionsInTableMap","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","stringToNewUTF8","stringToUTF8OnStack","JSEvents","specialHTMLTargets","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerUiEventCallback","registerFocusEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","currentFullscreenStrategy","restoreOldWindowedStyle","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","UNWIND_CACHE","ExitStatus","checkWasiClock","doReadv","doWritev","initRandomFill","randomFill","safeSetTimeout","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","SYSCALLS","preloadPlugins","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_readFile","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_forceLoadFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","GL","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","GLFW_Window","GLFW","webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance","webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s"];Uo.forEach(Mr);function Wo(){Lt("fetchSettings")}var ut={203512:()=>{if(document.fullscreenElement)return 1},203558:()=>c.canvas.width,203590:()=>parseInt(c.canvas.style.width),203638:()=>{document.exitFullscreen()},203665:()=>{setTimeout(function(){c.requestFullscreen(!1,!1)},100)},203738:()=>{if(document.fullscreenElement)return 1},203784:()=>c.canvas.width,203816:()=>screen.width,203841:()=>{document.exitFullscreen()},203868:()=>{setTimeout(function(){c.requestFullscreen(!1,!0),setTimeout(function(){canvas.style.width="unset"},100)},100)},204001:()=>window.innerWidth,204027:()=>window.innerHeight,204054:()=>{if(document.fullscreenElement)return 1},204100:()=>c.canvas.width,204132:()=>parseInt(c.canvas.style.width),204180:()=>{if(document.fullscreenElement)return 1},204226:()=>c.canvas.width,204258:()=>screen.width,204283:()=>window.innerWidth,204309:()=>window.innerHeight,204336:()=>{if(document.fullscreenElement)return 1},204382:()=>c.canvas.width,204414:()=>screen.width,204439:()=>{document.exitFullscreen()},204466:()=>{if(document.fullscreenElement)return 1},204512:()=>c.canvas.width,204544:()=>parseInt(c.canvas.style.width),204592:()=>{document.exitFullscreen()},204619:e=>{c.canvas.style.opacity=e},204657:()=>screen.width,204682:()=>screen.height,204708:()=>window.screenX,204735:()=>window.screenY,204762:()=>window.devicePixelRatio,204798:e=>{navigator.clipboard.writeText(q(e))},204851:e=>{c.canvas.style.cursor=q(e)},204902:()=>{c.canvas.style.cursor="none"},204939:(e,r,t,n)=>{try{navigator.getGamepads()[e].vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:n,weakMagnitude:r,strongMagnitude:t})}catch{try{navigator.getGamepads()[e].hapticActuators[0].pulse(t,n)}catch{}}},205195:e=>{c.canvas.style.cursor=q(e)},205246:()=>{if(document.fullscreenElement)return 1},205292:()=>window.innerWidth,205318:()=>window.innerHeight,205345:()=>{if(document.pointerLockElement)return 1},205392:(e,r,t,n,a)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.miniaudio>"u"){window.miniaudio={referenceCount:0},window.miniaudio.device_type={},window.miniaudio.device_type.playback=e,window.miniaudio.device_type.capture=r,window.miniaudio.device_type.duplex=t,window.miniaudio.device_state={},window.miniaudio.device_state.stopped=n,window.miniaudio.device_state.started=a;let i=window.miniaudio;i.devices=[],i.track_device=function(s){for(var u=0;u<i.devices.length;++u)if(i.devices[u]==null)return i.devices[u]=s,u;return i.devices.push(s),i.devices.length-1},i.untrack_device_by_index=function(s){for(i.devices[s]=null;i.devices.length>0&&i.devices[i.devices.length-1]==null;)i.devices.pop()},i.untrack_device=function(s){for(var u=0;u<i.devices.length;++u)if(i.devices[u]==s)return i.untrack_device_by_index(u)},i.get_device_by_index=function(s){return i.devices[s]},i.unlock_event_types=(function(){return["touchend","click"]})(),i.unlock=function(){for(var s=0;s<i.devices.length;++s){var u=i.devices[s];u!=null&&u.webaudio!=null&&u.state===i.device_state.started&&u.webaudio.resume().then(()=>{vt(u.pDevice)},d=>{console.error("Failed to resume audiocontext",d)})}i.unlock_event_types.map(function(d){document.removeEventListener(d,i.unlock,!0)})},i.unlock_event_types.map(function(s){document.addEventListener(s,i.unlock,!0)})}return window.miniaudio.referenceCount+=1,1},207570:()=>{typeof window.miniaudio<"u"&&(miniaudio.unlock_event_types.map(function(e){document.removeEventListener(e,miniaudio.unlock,!0)}),window.miniaudio.referenceCount-=1,window.miniaudio.referenceCount===0&&delete window.miniaudio)},207860:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,207964:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),r=e.sampleRate;return e.close(),r}catch{return 0}},208135:(e,r,t,n,a,i)=>{var s=e,u=r,d=t,g=n,w=a,p=i;if(typeof window.miniaudio>"u")return-1;var h={},b={};s==window.miniaudio.device_type.playback&&d!=0&&(b.sampleRate=d),h.webaudio=new(window.AudioContext||window.webkitAudioContext)(b),h.webaudio.suspend(),h.state=window.miniaudio.device_state.stopped;var x=0,M=u;return s!=window.miniaudio.device_type.playback&&(x=u),h.scriptNode=h.webaudio.createScriptProcessor(g,x,M),h.scriptNode.onaudioprocess=function(B){if((h.intermediaryBufferView==null||h.intermediaryBufferView.length==0)&&(h.intermediaryBufferView=new Float32Array(N.buffer,w,g*u)),s==window.miniaudio.device_type.capture||s==window.miniaudio.device_type.duplex){for(var T=0;T<u;T+=1)for(var C=B.inputBuffer.getChannelData(T),G=h.intermediaryBufferView,z=0;z<g;z+=1)G[z*u+T]=C[z];mt(p,g,w)}if(s==window.miniaudio.device_type.playback||s==window.miniaudio.device_type.duplex){_t(p,g,w);for(var T=0;T<B.outputBuffer.numberOfChannels;++T)for(var X=B.outputBuffer.getChannelData(T),G=h.intermediaryBufferView,z=0;z<g;z+=1)X[z]=G[z*u+T]}else for(var T=0;T<B.outputBuffer.numberOfChannels;++T)B.outputBuffer.getChannelData(T).fill(0)},(s==window.miniaudio.device_type.capture||s==window.miniaudio.device_type.duplex)&&navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(B){h.streamNode=h.webaudio.createMediaStreamSource(B),h.streamNode.connect(h.scriptNode),h.scriptNode.connect(h.webaudio.destination)}).catch(function(B){console.log("Failed to get user media: "+B)}),s==window.miniaudio.device_type.playback&&h.scriptNode.connect(h.webaudio.destination),h.pDevice=p,window.miniaudio.track_device(h)},211012:e=>window.miniaudio.get_device_by_index(e).webaudio.sampleRate,211085:e=>{var r=window.miniaudio.get_device_by_index(e);r.scriptNode!==void 0&&(r.scriptNode.onaudioprocess=function(t){},r.scriptNode.disconnect(),r.scriptNode=void 0),r.streamNode!==void 0&&(r.streamNode.disconnect(),r.streamNode=void 0),r.webaudio.close(),r.webaudio=void 0,r.pDevice=void 0},211485:e=>{window.miniaudio.untrack_device_by_index(e)},211535:e=>{var r=window.miniaudio.get_device_by_index(e);r.webaudio.resume(),r.state=window.miniaudio.device_state.started},211674:e=>{var r=window.miniaudio.get_device_by_index(e);r.webaudio.suspend(),r.state=window.miniaudio.device_state.stopped}};function Go(){var e="#"+c.canvas.id,r=se(e)+1,t=$(r);return H(e,t,r),t}var ct=D("_strerror"),ve=D("_free"),dt=c._main=D("_main"),ft=D("_fflush"),zo=c._zeal_exit=D("_zeal_exit"),$=D("_malloc"),vt=c._ma_device__on_notification_unlocked=D("_ma_device__on_notification_unlocked"),Ho=c._ma_malloc_emscripten=D("_ma_malloc_emscripten"),jo=c._ma_free_emscripten=D("_ma_free_emscripten"),mt=c._ma_device_process_pcm_frames_capture__webaudio=D("_ma_device_process_pcm_frames_capture__webaudio"),_t=c._ma_device_process_pcm_frames_playback__webaudio=D("_ma_device_process_pcm_frames_playback__webaudio"),gt=D("___funcs_on_exit"),yr=D("_emscripten_stack_get_end"),Yo=D("_emscripten_stack_get_base"),ht=D("_emscripten_stack_init"),Xo=D("_emscripten_stack_get_free"),wt=D("__emscripten_stack_restore"),pt=D("__emscripten_stack_alloc"),Er=D("_emscripten_stack_get_current"),Ve=D("dynCall_viii"),qo=D("dynCall_iii"),yt=D("dynCall_vi"),$o=D("dynCall_viiiiii"),be=D("dynCall_vii"),Vo=D("dynCall_ii"),Et=D("dynCall_viff"),bt=D("dynCall_viiiii"),Ft=D("dynCall_viiii"),br=D("dynCall_vidd"),ie=D("dynCall_iiii"),Ko=D("dynCall_iiiii"),Jo=D("dynCall_iiiji"),Qo=D("dynCall_iiiiiii"),Zo=D("dynCall_jii"),es=D("dynCall_jiji"),rs=D("dynCall_iidiiii"),St=D("_asyncify_start_unwind"),xt=D("_asyncify_stop_unwind"),kt=D("_asyncify_start_rewind"),Ct=D("_asyncify_stop_rewind");function ts(e){ct=R("strerror",1),ve=R("free",1),c._main=dt=R("__main_argc_argv",2),ft=R("fflush",1),c._zeal_exit=zo=R("zeal_exit",0),$=R("malloc",1),c._ma_device__on_notification_unlocked=vt=R("ma_device__on_notification_unlocked",1),c._ma_malloc_emscripten=Ho=R("ma_malloc_emscripten",2),c._ma_free_emscripten=jo=R("ma_free_emscripten",2),c._ma_device_process_pcm_frames_capture__webaudio=mt=R("ma_device_process_pcm_frames_capture__webaudio",3),c._ma_device_process_pcm_frames_playback__webaudio=_t=R("ma_device_process_pcm_frames_playback__webaudio",3),gt=R("__funcs_on_exit",0),yr=e.emscripten_stack_get_end,Yo=e.emscripten_stack_get_base,ht=e.emscripten_stack_init,Xo=e.emscripten_stack_get_free,wt=e._emscripten_stack_restore,pt=e._emscripten_stack_alloc,Er=e.emscripten_stack_get_current,Y.viii=Ve=R("dynCall_viii",4),Y.iii=qo=R("dynCall_iii",3),Y.vi=yt=R("dynCall_vi",2),Y.viiiiii=$o=R("dynCall_viiiiii",7),Y.vii=be=R("dynCall_vii",3),Y.ii=Vo=R("dynCall_ii",2),Y.viff=Et=R("dynCall_viff",4),Y.viiiii=bt=R("dynCall_viiiii",6),Y.viiii=Ft=R("dynCall_viiii",5),Y.vidd=br=R("dynCall_vidd",4),Y.iiii=ie=R("dynCall_iiii",4),Y.iiiii=Ko=R("dynCall_iiiii",5),Y.iiiji=Jo=R("dynCall_iiiji",5),Y.iiiiiii=Qo=R("dynCall_iiiiiii",7),Y.jii=Zo=R("dynCall_jii",3),Y.jiji=es=R("dynCall_jiji",4),Y.iidiiii=rs=R("dynCall_iidiiii",7),St=R("asyncify_start_unwind",1),xt=R("asyncify_stop_unwind",0),kt=R("asyncify_start_rewind",1),Ct=R("asyncify_stop_rewind",0)}var ys=c._show_fps=199200,Fr={GetCanvasIdJs:Go,__assert_fail:Zt,__syscall_faccessat:ln,__syscall_fcntl64:un,__syscall_fstat64:cn,__syscall_getcwd:dn,__syscall_getdents64:fn,__syscall_ioctl:vn,__syscall_lstat64:mn,__syscall_mkdirat:_n,__syscall_newfstatat:gn,__syscall_openat:hn,__syscall_readlinkat:wn,__syscall_rmdir:pn,__syscall_stat64:yn,__syscall_unlinkat:En,_abort_js:bn,_emscripten_fs_load_embedded_files:Fn,_localtime_js:Dn,_mktime_js:An,_tzset_js:Ln,clock_time_get:Rn,emscripten_asm_const_double:On,emscripten_asm_const_int:Bn,emscripten_date_now:Xr,emscripten_get_element_css_size:Un,emscripten_get_gamepad_status:Gn,emscripten_get_now:Le,emscripten_get_num_gamepads:zn,emscripten_resize_heap:jn,emscripten_sample_gamepad_data:fr,emscripten_set_blur_callback_on_thread:Yn,emscripten_set_canvas_element_size:qn,emscripten_set_click_callback_on_thread:Vn,emscripten_set_focus_callback_on_thread:Kn,emscripten_set_fullscreenchange_callback_on_thread:Qn,emscripten_set_gamepadconnected_callback_on_thread:Zn,emscripten_set_gamepaddisconnected_callback_on_thread:ea,emscripten_set_mousemove_callback_on_thread:ra,emscripten_set_pointerlockchange_callback_on_thread:aa,emscripten_set_resize_callback_on_thread:oa,emscripten_set_touchcancel_callback_on_thread:sa,emscripten_set_touchend_callback_on_thread:la,emscripten_set_touchmove_callback_on_thread:ua,emscripten_set_touchstart_callback_on_thread:ca,emscripten_set_visibilitychange_callback_on_thread:va,emscripten_set_window_title:nt,emscripten_sleep:at,exit:rt,fd_close:_a,fd_read:ha,fd_seek:wa,fd_write:ya,glActiveTexture:Aa,glAttachShader:La,glBindAttribLocation:Ma,glBindBuffer:Pa,glBindFramebuffer:Ra,glBindRenderbuffer:Ia,glBindTexture:Oa,glBindVertexArray:Ba,glBlendFunc:Na,glBufferData:Ua,glBufferSubData:Wa,glCheckFramebufferStatus:Ga,glClear:za,glClearColor:Ha,glClearDepthf:ja,glCompileShader:Ya,glCompressedTexImage2D:Xa,glCreateProgram:qa,glCreateShader:$a,glCullFace:Va,glDeleteBuffers:Ka,glDeleteFramebuffers:Ja,glDeleteProgram:Qa,glDeleteRenderbuffers:Za,glDeleteShader:ei,glDeleteTextures:ri,glDeleteVertexArrays:ti,glDepthFunc:ni,glDetachShader:ai,glDisable:ii,glDisableVertexAttribArray:oi,glDrawArrays:si,glDrawElements:li,glEnable:ui,glEnableVertexAttribArray:ci,glFramebufferRenderbuffer:di,glFramebufferTexture2D:fi,glFrontFace:vi,glGenBuffers:mi,glGenFramebuffers:_i,glGenRenderbuffers:gi,glGenTextures:hi,glGenVertexArrays:wi,glGetAttribLocation:pi,glGetFloatv:Si,glGetFramebufferAttachmentParameteriv:xi,glGetProgramInfoLog:ki,glGetProgramiv:Ci,glGetShaderInfoLog:Ti,glGetShaderiv:Di,glGetString:Ai,glGetUniformLocation:Pi,glLinkProgram:Ri,glPixelStorei:Ii,glReadPixels:Ni,glRenderbufferStorage:Ui,glShaderSource:Wi,glTexImage2D:Gi,glTexParameteri:zi,glTexSubImage2D:Hi,glUniform1fv:ji,glUniform1i:Yi,glUniform1iv:Xi,glUniform2fv:qi,glUniform2iv:$i,glUniform3fv:Vi,glUniform3iv:Ki,glUniform4f:Ji,glUniform4fv:Qi,glUniform4iv:Zi,glUniformMatrix4fv:eo,glUseProgram:ro,glVertexAttribPointer:to,glViewport:no,glfwCreateWindow:oo,glfwDefaultWindowHints:so,glfwDestroyWindow:lo,glfwGetPrimaryMonitor:uo,glfwGetTime:co,glfwGetVideoModes:fo,glfwInit:vo,glfwMakeContextCurrent:mo,glfwSetCharCallback:_o,glfwSetCursorEnterCallback:go,glfwSetCursorPosCallback:ho,glfwSetDropCallback:wo,glfwSetErrorCallback:po,glfwSetKeyCallback:yo,glfwSetMouseButtonCallback:Eo,glfwSetScrollCallback:bo,glfwSetWindowContentScaleCallback:Fo,glfwSetWindowFocusCallback:So,glfwSetWindowIconifyCallback:xo,glfwSetWindowShouldClose:ko,glfwSetWindowSizeCallback:Co,glfwSwapBuffers:To,glfwTerminate:Do,glfwWindowHint:Ao},le=await Xt(),Tt;function ns(e=[]){y(oe==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),y(typeof We>"u"||We.length==0,"cannot call main when preRun functions remain to be called");var r=dt;e.unshift(er);var t=e.length,n=lt((t+1)*4),a=n;e.forEach(s=>{k[a>>2]=Lo(s),a+=4}),k[a>>2]=0;try{var i=r(t,n);return et(i,!0),i}catch(s){return vr(s)}}function as(){ht(),At()}function Sr(e=Ze){if(oe>0){De=Sr;return}if(as(),It(),oe>0){De=Sr;return}function r(){if(y(!Tt),Tt=!0,c.calledRun=!0,!Z){Ot(),Bt(),Pr?.(c),c.onRuntimeInitialized?.(),Ne("onRuntimeInitialized");var t=c.noInitialRun||!1;t||ns(e),Ut()}}c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),r()},1)):r(),ce()}function is(){if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.shift()();Ne("preInit")}is(),Sr(),Ce?Qe=c:Qe=new Promise((e,r)=>{Pr=e,nr=r});for(const e of Object.keys(c))e in Je||Object.defineProperty(Je,e,{configurable:!0,get(){W(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return Qe}})();typeof exports=="object"&&typeof module=="object"?(module.exports=Module,module.exports.default=Module):typeof define=="function"&&define.amd&&define([],()=>Module);
